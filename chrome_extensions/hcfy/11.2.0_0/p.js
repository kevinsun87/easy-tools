/*! For license information please see p.js.LICENSE.txt */
(()=>{var t,e,n,c={78220:(t,e,n)=>{"use strict";n.d(e,{$Vx:()=>W,$tV:()=>He,AFB:()=>Ht,AFD:()=>re,B5x:()=>ge,B6s:()=>de,CS9:()=>ce,DBf:()=>ct,DPx:()=>_e,D_t:()=>j,Dgv:()=>nt,Dz5:()=>q,E4k:()=>S,EeG:()=>St,ElA:()=>Ae,F4C:()=>p,F5_:()=>v,FTj:()=>pe,FYN:()=>z,Fo4:()=>_t,Ga1:()=>ue,GpO:()=>yt,HL_:()=>T,HSU:()=>he,HcD:()=>s,I$u:()=>b,I5l:()=>h,I6K:()=>ae,IQG:()=>Ce,KJG:()=>$,KOP:()=>qe,L6I:()=>y,Ls_:()=>x,LwF:()=>F,Lx0:()=>zt,Mh2:()=>Fe,NAC:()=>Ee,NM8:()=>Y,NPG:()=>ne,NmM:()=>K,Nu2:()=>ot,P8J:()=>me,PEM:()=>G,Q0J:()=>R,Q9N:()=>le,Qh3:()=>De,Qu:()=>Qt,Sqy:()=>O,TB:()=>A,Tk$:()=>U,UBi:()=>Le,UCD:()=>Tt,W3C:()=>vt,WWK:()=>ve,X15:()=>ie,XrC:()=>ye,Z92:()=>X,ZO5:()=>Yt,ZXo:()=>ke,_2t:()=>Ct,_H3:()=>mt,_HL:()=>V,_Y0:()=>Re,_o6:()=>gt,_v1:()=>je,bOq:()=>ft,c6t:()=>$t,cGm:()=>fe,cOw:()=>Ut,clI:()=>Ge,dYu:()=>ht,d_i:()=>Rt,e8X:()=>jt,eTH:()=>rt,fQ0:()=>tt,ftj:()=>xt,gNQ:()=>g,iYh:()=>C,ihm:()=>d,ios:()=>Ft,irl:()=>Jt,jWK:()=>Xt,kB1:()=>H,kb2:()=>Me,kqV:()=>N,mq0:()=>te,n56:()=>B,nPu:()=>bt,nd0:()=>f,o5$:()=>_,opn:()=>wt,pd0:()=>se,q6K:()=>k,qAA:()=>m,qK:()=>Ke,q_v:()=>Pe,qgT:()=>qt,rlC:()=>P,rsK:()=>pt,s7l:()=>It,sKv:()=>We,sar:()=>et,sbA:()=>Et,scu:()=>At,sfl:()=>Bt,sjS:()=>w,tTn:()=>E,v1P:()=>Zt,vNw:()=>ee,vdX:()=>Mt,w24:()=>xe,w7x:()=>Ue,wWS:()=>be,wuc:()=>Lt,x6w:()=>Z,x8O:()=>ut,ya8:()=>Pt,yyz:()=>kt,z9s:()=>M,zGh:()=>D});var c=n(17289),o=n(66059),a=n(96696),r=n(72461),i="bp5";"undefined"!=typeof BLUEPRINT_NAMESPACE?i=BLUEPRINT_NAMESPACE:"undefined"!=typeof REACT_APP_BLUEPRINT_NAMESPACE&&(i=REACT_APP_BLUEPRINT_NAMESPACE);var s="".concat(i,"-active"),l="".concat(i,"-align-left"),u="".concat(i,"-align-right"),d="".concat(i,"-compact"),f="".concat(i,"-dark"),p="".concat(i,"-disabled"),h="".concat(i,"-fill"),m=("".concat(i,"-fixed"),"".concat(i,"-fixed-top"),"".concat(i,"-inline")),y="".concat(i,"-interactive"),b="".concat(i,"-large"),v="".concat(i,"-loading"),g="".concat(i,"-minimal"),x="".concat(i,"-outlined"),w=("".concat(i,"-padded"),"".concat(i,"-multiline"),"".concat(i,"-read-only")),j="".concat(i,"-round"),k="".concat(i,"-selected"),_="".concat(i,"-small"),E="".concat(i,"-vertical"),C=(ze(r.yX.TOP),ze(r.yX.BOTTOM),ze(r.yX.LEFT),ze(r.yX.RIGHT),Ge(o.e.ZERO),Ge(o.e.ONE),Ge(o.e.TWO),Ge(o.e.THREE),Ge(o.e.FOUR),He(a.J.PRIMARY),He(a.J.SUCCESS),He(a.J.WARNING),He(a.J.DANGER),"".concat(i,"-focus-disabled")),$=("".concat(i,"-focus-style-manager-ignore"),"".concat(i,"-ui-text"),"".concat(i,"-running-text"),"".concat(i,"-monospace-text"),"".concat(i,"-text-large"),"".concat(i,"-text-small")),S="".concat(i,"-text-muted"),T=("".concat(i,"-text-disabled"),"".concat(i,"-text-overflow-ellipsis")),N="".concat(i,"-blockquote"),O="".concat(i,"-code"),R="".concat(i,"-code-block"),A="".concat(i,"-heading"),P="".concat(i,"-list"),L=("".concat(i,"-list-unstyled"),"".concat(i,"-rtl"),"".concat(i,"-alert")),I=("".concat(L,"-body"),"".concat(L,"-contents"),"".concat(L,"-footer"),"".concat(i,"-breadcrumb")),B=("".concat(I,"-current"),"".concat(I,"s"),"".concat(I,"s-collapsed"),"".concat(i,"-button")),M="".concat(B,"-group"),F="".concat(B,"-spinner"),q="".concat(B,"-text"),U="".concat(i,"-callout"),D="".concat(U,"-has-body-content"),W="".concat(U,"-icon"),G="".concat(i,"-card"),K="".concat(i,"-control-card"),H="".concat(K,"-label"),z=("".concat(i,"-switch-control-card"),"".concat(i,"-checkbox-control-card"),"".concat(i,"-radio-control-card")),J="".concat(i,"-card-list"),V=("".concat(J,"-bordered"),"".concat(i,"-collapse")),X="".concat(V,"-body"),Q="".concat(i,"-context-menu"),Y=("".concat(Q,"-virtual-target"),"".concat(Q,"-popover"),"".concat(Q,"-backdrop"),"".concat(i,"-control-group"),"".concat(i,"-dialog")),Z="".concat(Y,"-container"),tt="".concat(Y,"-header"),et="".concat(Y,"-body"),nt=("".concat(Y,"-body-scroll-container"),"".concat(Y,"-close-button")),ct="".concat(Y,"-footer"),ot=("".concat(Y,"-footer-fixed"),"".concat(Y,"-footer-main-section"),"".concat(Y,"-footer-actions")),at="".concat(i,"-dialog-step"),rt=("".concat(at,"-container"),"".concat(at,"-title"),"".concat(at,"-icon"),"".concat(at,"-viewed"),"".concat(i,"-divider")),it="".concat(i,"-drawer"),st=("".concat(it,"-body"),"".concat(it,"-footer"),"".concat(it,"-header"),"".concat(i,"-editable-text")),lt=("".concat(st,"-content"),"".concat(st,"-editing"),"".concat(st,"-input"),"".concat(st,"-placeholder"),"".concat(i,"-entity-title")),ut=("".concat(i,"-entity-title-ellipsize"),"".concat(lt,"-has-subtitle"),"".concat(lt,"-icon-container"),"".concat(lt,"-subtitle"),"".concat(lt,"-tags-container"),"".concat(lt,"-text"),"".concat(lt,"-title"),"".concat(lt,"-title-and-tags"),"".concat(i,"-flex-expander"),"".concat(i,"-html-select")),dt=("".concat(i,"-select"),"".concat(i,"-html-table")),ft=("".concat(dt,"-bordered"),"".concat(dt,"-striped"),"".concat(i,"-input")),pt=("".concat(ft,"-ghost"),"".concat(ft,"-group")),ht="".concat(ft,"-left-container"),mt="".concat(ft,"-action"),yt=("".concat(i,"-resizable-input-span"),"".concat(i,"-text-area")),bt="".concat(yt,"-auto-resize"),vt="".concat(i,"-control"),gt="".concat(vt,"-indicator"),xt="".concat(gt,"-child"),wt="".concat(i,"-checkbox"),jt="".concat(i,"-radio"),kt="".concat(i,"-radio-group"),_t="".concat(i,"-switch"),Et="".concat(_t,"-inner-text"),Ct="".concat(i,"-file-input"),$t="".concat(i,"-file-input-has-selection"),St="".concat(i,"-file-upload-input"),Tt="".concat(i,"-file-upload-input-custom-text"),Nt="".concat(i,"-key"),Ot=("".concat(Nt,"-combo"),"".concat(i,"-modifier-key"),"".concat(i,"-hotkey")),Rt=("".concat(Ot,"-label"),"".concat(Ot,"-column"),"".concat(Ot,"-dialog"),"".concat(i,"-label")),At=("".concat(i,"-form-group"),"".concat(i,"-form-content"),"".concat(i,"-form-helper-text"),"".concat(i,"-form-group-sub-label"),"".concat(i,"-menu")),Pt="".concat(At,"-item"),Lt="".concat(Pt,"-is-selectable"),It="".concat(Pt,"-selected-icon"),Bt="".concat(Pt,"-icon"),Mt="".concat(Pt,"-label"),Ft="".concat(i,"-submenu"),qt="".concat(Ft,"-icon"),Ut=("".concat(At,"-divider"),"".concat(At,"-header")),Dt="".concat(i,"-multistep-dialog"),Wt=("".concat(Dt,"-panels"),"".concat(Dt,"-left-panel"),"".concat(Dt,"-right-panel"),"".concat(Dt,"-nav-top"),"".concat(Dt,"-nav-right"),"".concat(i,"-section")),Gt=("".concat(Wt,"-collapsed"),"".concat(Wt,"-header")),Kt=("".concat(Gt,"-left"),"".concat(Gt,"-title"),"".concat(Gt,"-sub-title"),"".concat(Gt,"-divider"),"".concat(Gt,"-tabs"),"".concat(Gt,"-right"),"".concat(Wt,"-card"),"".concat(i,"-navbar")),Ht=("".concat(Kt,"-group"),"".concat(Kt,"-heading"),"".concat(Kt,"-divider"),"".concat(i,"-non-ideal-state")),zt="".concat(Ht,"-visual"),Jt="".concat(Ht,"-text"),Vt=("".concat(i,"-numeric-input"),"".concat(i,"-overflow-list")),Xt=("".concat(Vt,"-spacer"),"".concat(i,"-overlay")),Qt="".concat(Xt,"-backdrop"),Yt=("".concat(Xt,"-container"),"".concat(Xt,"-content")),Zt="".concat(Xt,"-inline"),te="".concat(Xt,"-open"),ee="".concat(Xt,"-scroll-container"),ne="".concat(Xt,"-start-focus-trap"),ce="".concat(Xt,"-end-focus-trap"),oe="".concat(i,"-panel-stack"),ae=("".concat(oe,"-header"),"".concat(oe,"-header-back"),"".concat(oe,"-view"),"".concat(i,"-panel-stack2"),"".concat(oe,"-header"),"".concat(oe,"-header-back"),"".concat(oe,"-view"),"".concat(i,"-popover")),re="".concat(ae,"-arrow"),ie="".concat(ae,"-backdrop"),se="".concat(ae,"-capturing-dismiss"),le="".concat(ae,"-content"),ue="".concat(ae,"-placement"),de=("".concat(le,"-sizing"),"".concat(ae,"-dismiss")),fe="".concat(de,"-override"),pe="".concat(ae,"-match-target-width"),he="".concat(ae,"-open"),me="".concat(ae,"-popper-escaped"),ye="".concat(ae,"-reference-hidden"),be="".concat(ae,"-target"),ve="".concat(ae,"-transition-container"),ge=("".concat(ae,"-wrapper"),"".concat(i,"-progress-bar"),"".concat(i,"-progress-meter"),"".concat(i,"-no-stripes"),"".concat(i,"-no-animation"),"".concat(i,"-portal")),xe="".concat(i,"-skeleton"),we="".concat(i,"-slider"),je=("".concat(we,"-axis"),"".concat(we,"-handle"),"".concat(we,"-label"),"".concat(we,"-track"),"".concat(we,"-progress"),"".concat(i,"-start"),"".concat(i,"-end"),"".concat(i,"-spinner")),ke="".concat(je,"-animation"),_e="".concat(je,"-head"),Ee="".concat(i,"-no-spin"),Ce="".concat(je,"-track"),$e=("".concat(i,"-segmented-control"),"".concat(i,"-tab")),Se=("".concat($e,"-icon"),"".concat($e,"-tag"),"".concat($e,"-indicator")),Te=("".concat(Se,"-wrapper"),"".concat($e,"-list"),"".concat($e,"-panel"),"".concat($e,"s"),"".concat(i,"-tag")),Ne=("".concat(Te,"-remove"),"".concat(i,"-compound-tag")),Oe=("".concat(Ne,"-left"),"".concat(Ne,"-left-content"),"".concat(Ne,"-right"),"".concat(Ne,"-right-content"),"".concat(i,"-tag-input")),Re=("".concat(Oe,"-icon"),"".concat(Oe,"-values"),"".concat(i,"-toast")),Ae="".concat(Re,"-container"),Pe="".concat(Re,"-message"),Le="".concat(i,"-tooltip"),Ie=("".concat(Le,"-indicator"),"".concat(i,"-tree"),"".concat(i,"-tree-node")),Be="".concat(Ie,"-caret"),Me=("".concat(Be,"-closed"),"".concat(Be,"-none"),"".concat(Be,"-open"),"".concat(Ie,"-content"),"".concat(Ie,"-expanded"),"".concat(Ie,"-icon"),"".concat(Ie,"-label"),"".concat(Ie,"-list"),"".concat(Ie,"-secondary-label"),"".concat(Ie,"-selected"),"".concat(i,"-tree-root"),"".concat(i,"-icon")),Fe="".concat(Me,"-standard"),qe="".concat(Me,"-large"),Ue="".concat(Me,"-muted");function De(){return i}function We(t){switch(t){case c.C.LEFT:return l;case c.C.RIGHT:return u;default:return}}function Ge(t){if(void 0!==t)return"".concat(i,"-elevation-").concat(t)}function Ke(t){if(null!=t)return 0===t.indexOf("".concat(i,"-icon-"))?t:"".concat(i,"-icon-").concat(t)}function He(t){if(null!=t&&t!==a.J.NONE)return"".concat(i,"-intent-").concat(t.toLowerCase())}function ze(t){if(void 0!==t)return"".concat(i,"-position-").concat(t)}},68802:(t,e,n)=>{"use strict";n.d(e,{Cy:()=>f,H4:()=>l,H5:()=>u,H6:()=>d,OL:()=>p});var c=n(85608),o=n(53373),a=n.n(o),r=n(14041),i=n(78220);function s(t,e){return r.forwardRef((function(n,o){var i=n.className,s=n.children,l=(0,c.Tt)(n,["className","children"]);return r.createElement(t,(0,c.Cl)((0,c.Cl)({},l),{className:a()(e,i),ref:o}),s)}))}s("h1",i.TB),s("h2",i.TB),s("h3",i.TB);var l=s("h4",i.TB),u=s("h5",i.TB),d=s("h6",i.TB),f=(s("blockquote",i.kqV),s("code",i.Sqy)),p=(s("pre",i.Q0J),s("label",i.d_i),s("ol",i.rlC));s("ul",i.rlC)},30819:(t,e,n)=>{"use strict";n.d(e,{KA:()=>a,U0:()=>o,UP:()=>r,gm:()=>i});const c=navigator.userAgent,o=c.includes("Mac"),a=c.includes("Chrome"),r=c.includes("Edg"),i=c.includes("Firefox")},84155:(t,e,n)=>{"use strict";n(1363);var c=n(25873),o=(n(69375),n(14041)),a=n(74874),r=n.n(a),i=n(78220),s=n(72531),l="undefined"!=typeof document?new s.y(document.documentElement,i.iYh):{isActive:function(){return!0},start:function(){return!0},stop:function(){return!0}},u=function(){return l.start()},d=n(19687),f=n(23590),p=n(16342),h=n(68802),m=n(22067),y=n(85608),b=n(53373),v=n.n(b),g=n(66682),x=function(t){var e=t.className,n=t.tagName,c=void 0===n?"div":n,a=(0,y.Tt)(t,["className","tagName"]),r=v()(i.eTH,e);return o.createElement(c,(0,y.Cl)((0,y.Cl)({},a),{className:r}))};x.displayName="".concat(g.l,".Divider");var w=n(78107);async function j(t){let e;if("number"==typeof t)try{e=await chrome.tabs.get(t)}catch(t){}else e=t||await async function(){return(await chrome.tabs.query({active:!0,lastFocusedWindow:!0}))[0]}();return e}function k(){return location.href}var _=n(67116);async function E(t){const e=await j(t);if(!e)return;const n=await async function(t){const e=await j(t);if(!e)return;const n=e.id;let c=e.url;if(!c&&n)try{if(c=(await chrome.scripting.executeScript({target:{tabId:n},injectImmediately:!0,func:k}))[0].result,c.startsWith("moz-extension"))return}catch(t){}return c}(e);if(n)return n;const c=e.id;if(c)try{return await(0,_._)("get tab url",c)}catch(t){}}var C=n(16224),$=n(25148);function S(t){return`${t.host}${t.path}`}function T(t){const e=t.match(/^(([^:]+):\/\/)?([^/]+)?(\/.*)?$/);if(!e)return;let n=e[3]||"";const c=n.indexOf(":");c>=0&&(n=n.slice(0,c));let o=e[4]||"";const a=o.indexOf("#");if(a>=0&&(o=o.slice(0,a)),!n.startsWith(".")){if(!o){if(!n)return;o="/"}return{host:n,path:o}}}function N(t,e){return new RegExp("^"+t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace("*",".*").replace(/^\.\*\\\./,"(.*\\.)?")+"$").test(e)}function O(t,e){return new RegExp("^"+t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".*")+"$").test(e)}function R(t,e,n){let c,o;c="string"==typeof t?T(t):t;let a=!1,r=!1;if(c){const t=t=>{const e=function(t,e){let n;if(n="string"==typeof e?T(e):e,n)return N(t.host,n.host)&&O(t.path,n.path)}(t,c);return e&&(o=t),e};a=n.some(t),a||(r=e.some(t))}return{urlParts:c,matchedRule:o,whiteListMatched:a,blackListMatched:r}}var A=n(96538),P=n(43566);n(61412),n(91883),n(70286);const L=chrome.runtime.getURL("/pdf-viewer/web/viewer.html");r()(C.g2,["pdfStandalone"]);var I=n(30819);var B=n(84848);const M=(0,B.j_)();var F=n(31085);async function q(t){const e=(await async function(){return(await chrome.tabs.query({active:!0,highlighted:!0,windowId:chrome.windows.WINDOW_ID_CURRENT}))[0]}())?.id;if(e)try{await(0,_._)(t,e),window.close()}catch(t){(await M).show({message:(0,F.jsxs)(F.Fragment,{children:["当前页面无法使用此功能。",(0,F.jsx)("a",{href:"https://hcfy.ai/docs/faqs/why-can-not-use-in-store",target:"_blank",rel:"noreferrer noopener",children:"查看帮助"})]}),intent:"warning"})}else{(await M).show({message:"开启功能时发生了一个错误，请稍后重试。",intent:"warning"})}}function U(){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(d.$,{icon:"cut",small:!0,onClick:()=>{q("screenshot translate")},text:"截图翻译",style:{marginBottom:10}}),(0,F.jsx)(d.$,{icon:"translate",small:!0,onClick:()=>{q("page translate")},text:"网页全文翻译",style:{marginBottom:10}})]})}var D=n(17439);u();const W=chrome.runtime.getURL("/")+"settings.html",G=chrome.runtime.getURL("/")+"settings.html#/cross",K=r()(C.g2,["domainBlackList","domainWhiteList"]),H=I.KA?I.UP?"Microsoft Edge":"Chrome":"";function z(){const[t,e]=(0,o.useState)(),[n,c]=(0,$.A)(K),[a,r]=(0,o.useState)(),[s,l]=(0,o.useState)(!1),u=(t,e)=>{c((n=>{const c=n[e],o=c.findIndex((e=>e.host===t.host&&e.path===t.path));o>=0&&c.splice(o,1)}))},m=(t,e)=>{c((n=>{n[e].push(t)}))};(0,o.useEffect)((()=>{E().then(e)}),[]),(0,o.useEffect)((()=>{r(n&&t?R(t,n.domainBlackList,n.domainWhiteList):void 0)}),[n,t]);const y=(0,o.useMemo)((()=>!!t&&function(t){return t.startsWith(L)}(t)),[t]),b=a?.matchedRule,v=a?.urlParts?.host||"",g=a?.urlParts?.path||"",x=y||a&&a.whiteListMatched||a&&!a.matchedRule?"启用":"禁用",w=n?.domainBlackList.some((t=>"*"===t.host&&"/*"===t.path));return(0,F.jsxs)("div",{style:{padding:"8px 8px 0 8px"},children:[(0,F.jsx)(d.$,{onClick:()=>{l((t=>!t))},fill:!0,text:"禁用"===x&&w&&a?"已在所有网站中禁用网页划词":"此页面已"+x+"网页划词",rightIcon:(0,F.jsx)(f.I,{icon:s?"chevron-up":"chevron-down",size:12}),minimal:!0,small:!0}),(0,F.jsxs)(p.S,{isOpen:s,children:[!a&&(0,F.jsxs)("span",{className:`${i.KJG} ${i.E4k}`,children:["在少数特殊的页面中，只能使用划词后在右键菜单中选择“翻译这段文本”的翻译方式。如果你刚安装完划词翻译或划词翻译被浏览器自动更新了，那么你可以刷新当前页面后重试。",(0,F.jsx)("a",{href:"https://hcfy.ai/docs/faqs/why-can-not-use-in-store",target:"_blank",rel:"noreferrer noopener",children:"查看帮助"})]}),y&&(0,F.jsx)("span",{className:`${i.KJG} ${i.E4k}`,children:"在划词翻译内置的 PDF 阅读器中，网页划词功能始终可用。"}),a&&!y&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{style:{marginTop:"4px",marginBottom:"10px"},children:[(0,F.jsxs)("div",{children:["当前网站：",v]}),(0,F.jsxs)("div",{children:["当前页面：",g]})]}),a.whiteListMatched&&b&&(0,F.jsxs)("div",{children:[(0,F.jsxs)("p",{className:`${i.KJG} ${i.E4k}`,children:["此网址命中了白名单规则 ",(0,F.jsx)(h.Cy,{children:S(b)}),"。"]}),(0,F.jsx)("p",{children:(0,F.jsx)(d.$,{fill:!0,small:!0,onClick:()=>u(b,"domainWhiteList"),children:"删除命中的规则"})})]}),!a.whiteListMatched&&a.blackListMatched&&b&&(0,F.jsxs)("div",{children:[(0,F.jsxs)("p",{className:`${i.KJG} ${i.E4k}`,children:[w?"你已经在所有网站中禁用了网页划词":(0,F.jsxs)(F.Fragment,{children:["此网址命中了黑名单规则"," ",(0,F.jsx)(h.Cy,{children:S(b)})]}),"，但你仍然可以使用",(0,F.jsx)("a",{href:W,target:"_blank",rel:"noreferrer",children:"快捷键"}),"、",(0,F.jsx)("a",{href:G,target:"_blank",rel:"noreferrer",children:"辅助键"}),"和右键菜单的方式获取翻译结果。"]}),(0,F.jsxs)("p",{className:"url-actions",children:[(0,F.jsx)(d.$,{small:!0,onClick:()=>m({host:v,path:"/*"},"domainWhiteList"),children:"在当前网站中启用"}),(0,F.jsx)(d.$,{small:!0,onClick:()=>m({host:v,path:g},"domainWhiteList"),children:"在当前页面中启用"})]}),(0,F.jsx)("p",{children:(0,F.jsx)(d.$,{fill:!0,small:!0,onClick:()=>u(w?{host:"*",path:"/*"}:b,"domainBlackList"),children:w?"重新启用网页划词":"删除命中的规则"})})]}),!a.whiteListMatched&&!a.blackListMatched&&(0,F.jsxs)("div",{children:[(0,F.jsx)("p",{className:`${i.KJG} ${i.E4k}`,children:"此网址没有命中任何规则。"}),(0,F.jsxs)("p",{className:"url-actions",children:[(0,F.jsx)(d.$,{small:!0,onClick:()=>m({host:v,path:"/*"},"domainBlackList"),children:"在当前网站中禁用"}),(0,F.jsx)(d.$,{small:!0,onClick:()=>m({host:v,path:g},"domainBlackList"),children:"在当前页面中禁用"})]})]})]}),a&&!w&&!y&&(0,F.jsx)("p",{children:(0,F.jsx)(d.$,{fill:!0,small:!0,onClick:()=>m({host:"*",path:"/*"},"domainBlackList"),children:"在所有网站中禁用网页划词"})})]})]})}function J(){(0,_._)({action:"open panel"}).then((()=>{window.close()}),(t=>{window.alert("打开独立窗口时发生了一个错误："+t?.message)}))}function V(){const[t,e]=(0,o.useState)(!1),[n,c]=(0,o.useState)("");return(0,o.useEffect)((()=>{chrome.commands.getAll().then((t=>{t.some((t=>{if("panel"===t.name)return c(t.shortcut||""),!0}))}))}),[]),(0,F.jsxs)("div",{style:{padding:"0 8px 8px 8px"},children:[(0,F.jsx)(d.$,{onClick:()=>{e((t=>!t))},fill:!0,intent:n?"primary":"warning",text:"试一试独立翻译窗口吧",rightIcon:(0,F.jsx)(f.I,{icon:n?t?"chevron-up":"chevron-down":"error",size:12}),minimal:!0,small:!0}),(0,F.jsxs)(p.S,{isOpen:t,children:[(0,F.jsxs)("p",{className:`${i.E4k}`,children:["您的浏览器支持全局快捷键！您可以在浏览器以外的地方按下快捷键",n&&(0,F.jsxs)(F.Fragment,{children:[" ",(0,F.jsx)("kbd",{children:n})," "]}),"来翻译剪切板内的文本，无需切换回您的浏览器。"]}),n&&(0,F.jsxs)("div",{className:`${i.E4k}`,children:["您可以在",(0,F.jsx)("a",{href:W,target:"_blank",rel:"noreferrer",children:"设置"}),"中修改独立翻译窗口的快捷键。"]}),!n&&(0,F.jsxs)(m.P,{title:"未设置独立窗口快捷键",intent:"warning",children:["快捷键已被占用或清除，请前往",(0,F.jsx)("a",{href:W,target:"_blank",rel:"noreferrer",children:"设置"}),"中为独立窗口分配一个快捷键，并将作用域由“在 ",H," ","中”改为“全局”。"]})]})]})}const X=r()(C.g2,["autoClipboard"]);function Q(){const t=(0,o.useRef)(null),[e,n]=(0,$.A)(X);(0,A.A)();const c=(0,o.useCallback)(((e,n)=>{e&&(n?t.current?.setText(e):t.current?.translate(e,!0))}),[]);(0,o.useEffect)((()=>{t.current?.select()}),[]);const a=(0,B.dU)(M);return(0,F.jsxs)("div",{children:[(0,F.jsx)(z,{}),(0,F.jsx)(x,{}),(0,F.jsx)(D.W,{onTranslate:c,onDismiss:()=>t.current?.select()}),(0,F.jsx)(P.A,{ref:t,toaster:a.current,extendOptions:(0,F.jsx)(w.Sc,{label:"打开面板时自动翻译剪切板内的文本",checked:!!e?.autoClipboard,indeterminate:null===e?.autoClipboard,onChange:t=>{n({autoClipboard:t.target.checked})}}),showTextArea:!0}),(0,F.jsx)(x,{}),(0,F.jsxs)("div",{className:"openBtn",children:[(0,F.jsx)(U,{}),(0,F.jsx)(d.$,{small:!0,onClick:()=>{(0,_._)({action:"open pdf viewer"}).then((()=>{window.close()}))},children:"内置 PDF 阅读器"}),(0,F.jsx)(d.$,{small:!0,onClick:J,children:"独立翻译窗口"})]}),(0,F.jsx)(x,{}),I.KA&&(0,F.jsx)(V,{})]})}const Y=document.getElementById("app");if(!Y)throw new Error("DOM 里没有 #app 元素。");(0,c.H)(Y).render((0,F.jsx)(Q,{}))},17546:(t,e,n)=>{var c=n(47170),o=n(23997);t.exports=function(t,e){return t&&c(t,o(e))}},48983:(t,e,n)=>{var c=n(36465),o=n(3334),a=n(72127),r=n(53142),i=n(74535);t.exports=function(t,e,n){var s=r(t)?c:a;return n&&i(t,e,n)&&(e=void 0),s(t,o(e,3))}},14304:(t,e)=>{"use strict";var n=Symbol.for("react.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function b(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||h}function v(){}function g(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||h}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=b.prototype;var x=g.prototype=new v;x.constructor=g,m(x,b.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,c){var o,a={},r=null,i=null;if(null!=e)for(o in void 0!==e.ref&&(i=e.ref),void 0!==e.key&&(r=""+e.key),e)j.call(e,o)&&!_.hasOwnProperty(o)&&(a[o]=e[o]);var s=arguments.length-2;if(1===s)a.children=c;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(o in s=t.defaultProps)void 0===a[o]&&(a[o]=s[o]);return{$$typeof:n,type:t,key:r,ref:i,props:a,_owner:k.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var $=/\/+/g;function S(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,o,a,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case n:case c:s=!0}}if(s)return r=r(s=t),t=""===a?"."+S(s,0):a,w(r)?(o="",null!=t&&(o=t.replace($,"$&/")+"/"),T(r,e,o,"",(function(t){return t}))):null!=r&&(C(r)&&(r=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(r,o+(!r.key||s&&s.key===r.key?"":(""+r.key).replace($,"$&/")+"/")+t)),e.push(r)),1;if(s=0,a=""===a?".":a+":",w(t))for(var l=0;l<t.length;l++){var u=a+S(i=t[l],l);s+=T(i,e,o,u,r)}else if(u=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"==typeof u)for(t=u.call(t),l=0;!(i=t.next()).done;)s+=T(i=i.value,e,o,u=a+S(i,l++),r);else if("object"===i)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function N(t,e,n){if(null==t)return t;var c=[],o=0;return T(t,c,"","",(function(t){return e.call(n,t,o++)})),c}function O(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},A={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:N,forEach:function(t,e,n){N(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return N(t,(function(){e++})),e},toArray:function(t){return N(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=b,e.Fragment=o,e.Profiler=r,e.PureComponent=g,e.StrictMode=a,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.act=L,e.cloneElement=function(t,e,c){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=m({},t.props),a=t.key,r=t.ref,i=t._owner;if(null!=e){if(void 0!==e.ref&&(r=e.ref,i=k.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)j.call(e,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==s?s[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=c;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];o.children=s}return{$$typeof:n,type:t.type,key:a,ref:r,props:o,_owner:i}},e.createContext=function(t){return(t={$$typeof:s,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=L,e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,n){return R.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,n){return R.current.useReducer(t,e,n)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return R.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.3.1"},37767:(t,e,n)=>{"use strict";n.d(e,{qs:()=>o});n(69375);var c=n(17546);function o(t){const e=[];return c(t,((t,n)=>{const c=Array.isArray(t)?t:[t];e.push(...c.map((t=>`${n}=${null==t?"":encodeURIComponent(t)}`)))})),e.join("&")}},74976:(t,e,n)=>{"use strict";n.d(e,{_:()=>c});const c=AbortSignal.timeout?function(t){return AbortSignal.timeout(t)}:function(t){const e=new AbortController;return setTimeout((()=>{e.abort()}),t),e.signal}},27429:(t,e,n)=>{"use strict";n.d(e,{b:()=>c});var c=n(28985)}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return c[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=c,t=[],a.O=(e,n,c,o)=>{if(!n){var r=1/0;for(u=0;u<t.length;u++){for(var[n,c,o]=t[u],i=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((t=>a.O[t](n[s])))?n.splice(s--,1):(i=!1,o<r&&(r=o));if(i){t.splice(u--,1);var l=c();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,c,o]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,n)=>(a.f[n](t,e),e)),[])),a.u=t=>({231:"blueprint-icons-split-paths-by-size-loader",824:"blueprint-icons-all-paths-loader",860:"blueprint-icons-all-paths"}[t]+".js"),a.miniCssF=t=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},n="browser-extension:",a.l=(t,c,o,r)=>{if(e[t])e[t].push(c);else{var i,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==n+o){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",n+o),i.src=t),e[t]=[c];var f=(n,c)=>{i.onerror=i.onload=null,clearTimeout(p);var o=e[t];if(delete e[t],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((t=>t(c))),n)return n(c)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),a.p="",(()=>{var t={245:0};a.f.j=(e,n)=>{var c=a.o(t,e)?t[e]:void 0;if(0!==c)if(c)n.push(c[2]);else{var o=new Promise(((n,o)=>c=t[e]=[n,o]));n.push(c[2]=o);var r=a.p+a.u(e),i=new Error;a.l(r,(n=>{if(a.o(t,e)&&(0!==(c=t[e])&&(t[e]=void 0),c)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;i.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",i.name="ChunkLoadError",i.type=o,i.request=r,c[1](i)}}),"chunk-"+e,e)}},a.O.j=e=>0===t[e];var e=(e,n)=>{var c,o,[r,i,s]=n,l=0;if(r.some((e=>0!==t[e]))){for(c in i)a.o(i,c)&&(a.m[c]=i[c]);if(s)var u=s(a)}for(e&&e(n);l<r.length;l++)o=r[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},n=globalThis.webpackChunkbrowser_extension=globalThis.webpackChunkbrowser_extension||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var r=a.O(void 0,[708,316,180,122,557,743,408,763,544,869],(()=>a(84155)));r=a.O(r)})();