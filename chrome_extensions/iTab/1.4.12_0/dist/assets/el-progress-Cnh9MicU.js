import{ElIcon as e}from"./index-D4GlTUBi.js";import{w as t,b as a,d as s,H as r,a as n}from"./todo-nv2WtoEp.js";import{b as o,d as i,u as l}from"./index-B3sKL47p.js";import{_ as p,w as u}from"./plugin-vue_export-helper-O3gUY6pX.js";import{m as d,c,d as f,i as h,p as y,q as g,z as v,u as b,t as m,C as k,A as x,B as w,J as $,G as B,H as N,b5 as F}from"./index-CyyLRP8W.js";const I=o({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:i(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:i([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:i(Function),default:e=>`${e}%`}}),j=["aria-valuenow"],D={viewBox:"0 0 100 100"},S=["d","stroke","stroke-linecap","stroke-width"],T=["d","stroke","opacity","stroke-linecap","stroke-width"],_={key:0},W=d({name:"ElProgress"});const z=u(p(d({...W,props:I,setup(o){const i=o,p={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},u=l("progress"),d=c((()=>{const e={width:`${i.percentage}%`,animationDuration:`${i.duration}s`},t=J(i.percentage);return t.includes("gradient")?e.background=t:e.backgroundColor=t,e})),I=c((()=>(i.strokeWidth/i.width*100).toFixed(1))),W=c((()=>["circle","dashboard"].includes(i.type)?Number.parseInt(""+(50-Number.parseFloat(I.value)/2),10):0)),z=c((()=>{const e=W.value,t="dashboard"===i.type;return`\n          M 50 50\n          m 0 ${t?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${t?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${t?"":"-"}${2*e}\n          `})),A=c((()=>2*Math.PI*W.value)),L=c((()=>"dashboard"===i.type?.75:1)),C=c((()=>`${-1*A.value*(1-L.value)/2}px`)),E=c((()=>({strokeDasharray:`${A.value*L.value}px, ${A.value}px`,strokeDashoffset:C.value}))),H=c((()=>({strokeDasharray:`${A.value*L.value*(i.percentage/100)}px, ${A.value}px`,strokeDashoffset:C.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),M=c((()=>{let e;return e=i.color?J(i.percentage):p[i.status]||p.default,e})),P=c((()=>"warning"===i.status?t:"line"===i.type?"success"===i.status?a:s:"success"===i.status?r:n)),q=c((()=>"line"===i.type?12+.4*i.strokeWidth:.111111*i.width+2)),G=c((()=>i.format(i.percentage)));const J=e=>{var t;const{color:a}=i;if(f(a))return a(e);if(h(a))return a;{const s=function(e){const t=100/e.length;return e.map(((e,a)=>h(e)?{color:e,percentage:(a+1)*t}:e)).sort(((e,t)=>e.percentage-t.percentage))}(a);for(const t of s)if(t.percentage>e)return t.color;return null==(t=s[s.length-1])?void 0:t.color}};return(t,a)=>(y(),g("div",{class:v([b(u).b(),b(u).m(t.type),b(u).is(t.status),{[b(u).m("without-text")]:!t.showText,[b(u).m("text-inside")]:t.textInside}]),role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===t.type?(y(),g("div",{key:0,class:v(b(u).b("bar"))},[m("div",{class:v(b(u).be("bar","outer")),style:k({height:`${t.strokeWidth}px`})},[m("div",{class:v([b(u).be("bar","inner"),{[b(u).bem("bar","inner","indeterminate")]:t.indeterminate},{[b(u).bem("bar","inner","striped")]:t.striped},{[b(u).bem("bar","inner","striped-flow")]:t.stripedFlow}]),style:k(b(d))},[(t.showText||t.$slots.default)&&t.textInside?(y(),g("div",{key:0,class:v(b(u).be("bar","innerText"))},[x(t.$slots,"default",{percentage:t.percentage},(()=>[m("span",null,w(b(G)),1)]))],2)):$("v-if",!0)],6)],6)],2)):(y(),g("div",{key:1,class:v(b(u).b("circle")),style:k({height:`${t.width}px`,width:`${t.width}px`})},[(y(),g("svg",D,[m("path",{class:v(b(u).be("circle","track")),d:b(z),stroke:`var(${b(u).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":t.strokeLinecap,"stroke-width":b(I),fill:"none",style:k(b(E))},null,14,S),m("path",{class:v(b(u).be("circle","path")),d:b(z),stroke:b(M),fill:"none",opacity:t.percentage?1:0,"stroke-linecap":t.strokeLinecap,"stroke-width":b(I),style:k(b(H))},null,14,T)]))],6)),!t.showText&&!t.$slots.default||t.textInside?$("v-if",!0):(y(),g("div",{key:2,class:v(b(u).e("text")),style:k({fontSize:`${b(q)}px`})},[x(t.$slots,"default",{percentage:t.percentage},(()=>[t.status?(y(),B(b(e),{key:1},{default:N((()=>[(y(),B(F(b(P))))])),_:1})):(y(),g("span",_,w(b(G)),1))]))],6))],10,j))}}),[["__file","progress.vue"]]));export{z as E};
