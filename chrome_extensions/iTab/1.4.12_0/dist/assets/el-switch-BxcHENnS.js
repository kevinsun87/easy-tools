import{i as e,m as a,c as i,a as t,w as n,o as l,p as c,q as o,t as s,u as r,z as v,bF as d,G as u,H as m,b5 as p,J as f,B as b,I as y,A as h,C as x,bH as k,n as I,bM as g}from"./index-CyyLRP8W.js";import{ElIcon as V}from"./index-D4GlTUBi.js";import{l as j}from"./todo-nv2WtoEp.js";import{b as w,d as S,u as T}from"./index-B3sKL47p.js";import{i as _}from"./validator-DvohupZ1.js";import{i as C}from"./icon-Dsqoi_oS.js";import{u as B}from"./index-kxe6IHwf.js";import{U as A,C as N,I as P}from"./event-BwRzfsZt.js";import{l as E,g as K}from"./types-Ci7ev57k.js";import{_ as z,w as F}from"./plugin-vue_export-helper-O3gUY6pX.js";import{u as H,a as J,b as L,c as U}from"./use-form-item-CUGNa-4i.js";import{a as $}from"./style-BBQwFGbP.js";import{d as q,t as D}from"./scroll-3JEGyj3w.js";import{u as G}from"./index-DjlyN6je.js";const M=w({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:_},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:C},activeActionIcon:{type:C},activeIcon:{type:C},inactiveIcon:{type:C},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:S(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...B(["ariaLabel"])}),O={[A]:a=>E(a)||e(a)||K(a),[N]:a=>E(a)||e(a)||K(a),[P]:a=>E(a)||e(a)||K(a)},Q=["onClick"],R=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],W=["aria-hidden"],X=["aria-hidden"],Y=["aria-hidden"],Z="ElSwitch",ee=a({name:Z});const ae=F(z(a({...ee,props:M,emits:O,setup(e,{expose:a,emit:w}){const S=e,{formItem:_}=H(),C=J(),B=T("switch"),{inputId:K}=L(S,{formItemContext:_}),z=U(i((()=>S.loading))),F=t(!1!==S.modelValue),M=t(),O=t(),ee=i((()=>[B.b(),B.m(C.value),B.is("disabled",z.value),B.is("checked",le.value)])),ae=i((()=>[B.e("label"),B.em("label","left"),B.is("active",!le.value)])),ie=i((()=>[B.e("label"),B.em("label","right"),B.is("active",le.value)])),te=i((()=>({width:$(S.width)})));n((()=>S.modelValue),(()=>{F.value=!0}));const ne=i((()=>!!F.value&&S.modelValue)),le=i((()=>ne.value===S.activeValue));[S.activeValue,S.inactiveValue].includes(ne.value)||(w(A,S.inactiveValue),w(N,S.inactiveValue),w(P,S.inactiveValue)),n(le,(e=>{var a;M.value.checked=e,S.validateEvent&&(null==(a=null==_?void 0:_.validate)||a.call(_,"change").catch((e=>q())))}));const ce=()=>{const e=le.value?S.inactiveValue:S.activeValue;w(A,e),w(N,e),w(P,e),I((()=>{M.value.checked=le.value}))},oe=()=>{if(z.value)return;const{beforeChange:e}=S;if(!e)return void ce();const a=e();[g(a),E(a)].includes(!0)||D(Z,"beforeChange must return type `Promise<boolean>` or `boolean`"),g(a)?a.then((e=>{e&&ce()})).catch((e=>{})):a&&ce()};return l((()=>{M.value.checked=le.value})),G({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},i((()=>!!S.label))),a({focus:()=>{var e,a;null==(a=null==(e=M.value)?void 0:e.focus)||a.call(e)},checked:le}),(e,a)=>(c(),o("div",{class:v(r(ee)),onClick:k(oe,["prevent"])},[s("input",{id:r(K),ref_key:"input",ref:M,class:v(r(B).e("input")),type:"checkbox",role:"switch","aria-checked":r(le),"aria-disabled":r(z),"aria-label":e.label||e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:r(z),tabindex:e.tabindex,onChange:ce,onKeydown:d(oe,["enter"])},null,42,R),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?f("v-if",!0):(c(),o("span",{key:0,class:v(r(ae))},[e.inactiveIcon?(c(),u(r(V),{key:0},{default:m((()=>[(c(),u(p(e.inactiveIcon)))])),_:1})):f("v-if",!0),!e.inactiveIcon&&e.inactiveText?(c(),o("span",{key:1,"aria-hidden":r(le)},b(e.inactiveText),9,W)):f("v-if",!0)],2)),s("span",{ref_key:"core",ref:O,class:v(r(B).e("core")),style:x(r(te))},[e.inlinePrompt?(c(),o("div",{key:0,class:v(r(B).e("inner"))},[e.activeIcon||e.inactiveIcon?(c(),u(r(V),{key:0,class:v(r(B).is("icon"))},{default:m((()=>[(c(),u(p(r(le)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(c(),o("span",{key:1,class:v(r(B).is("text")),"aria-hidden":!r(le)},b(r(le)?e.activeText:e.inactiveText),11,X)):f("v-if",!0)],2)):f("v-if",!0),s("div",{class:v(r(B).e("action"))},[e.loading?(c(),u(r(V),{key:0,class:v(r(B).is("loading"))},{default:m((()=>[y(r(j))])),_:1},8,["class"])):r(le)?h(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?(c(),u(r(V),{key:0},{default:m((()=>[(c(),u(p(e.activeActionIcon)))])),_:1})):f("v-if",!0)])):r(le)?f("v-if",!0):h(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?(c(),u(r(V),{key:0},{default:m((()=>[(c(),u(p(e.inactiveActionIcon)))])),_:1})):f("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?f("v-if",!0):(c(),o("span",{key:1,class:v(r(ie))},[e.activeIcon?(c(),u(r(V),{key:0},{default:m((()=>[(c(),u(p(e.activeIcon)))])),_:1})):f("v-if",!0),!e.activeIcon&&e.activeText?(c(),o("span",{key:1,"aria-hidden":!r(le)},b(e.activeText),9,Y)):f("v-if",!0)],2))],10,Q))}}),[["__file","switch.vue"]]));export{ae as E};
