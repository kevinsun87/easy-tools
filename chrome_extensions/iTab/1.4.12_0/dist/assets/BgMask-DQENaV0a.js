const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./VolumeSet-BebE3rw_.js","./index-CyyLRP8W.js","./index-4Dsu8OkH.css","./getAudio-D_HGGnT2.js","./localforage-BVRgvwJc.js","./main-DJB5iAKQ.js","./modulepreload-polyfill-Dqv5PPZA.js","./todo-nv2WtoEp.js","./todo-Dkv1bMMm.css","./main-DFK4COmH.css"])))=>i.map(i=>d[i]);
import{a8 as e,a9 as t,_ as a}from"./todo-nv2WtoEp.js";import{g as l,bs as o,a as s,c as i,u as n,i as r,w as u,s as v,o as c,j as d,aY as p,l as m,m as f,p as h,q as g,G as y,H as w,v as x,t as b,z as I,bH as k,I as C,x as j,a1 as _,J as S,A as z,C as B,F as A,y as L,B as M,aB as E,b0 as T,aV as H,_ as $,b5 as N,ah as V,E as G}from"./index-CyyLRP8W.js";/* empty css            */import{d as D,g as P,f as R,s as O}from"./getAudio-D_HGGnT2.js";import{F,G as q,H as W}from"./main-DJB5iAKQ.js";import{tomatoAudioList as X}from"./baseApi-BUYbzNW3.js";import Y from"./indexdb-D6yYQ1E4.js";import{ElIcon as J}from"./index-D4GlTUBi.js";import{b as K,u as Q}from"./index-B3sKL47p.js";import{g as U,k as Z}from"./types-Ci7ev57k.js";import{a as ee}from"./index-BrMlOSMZ.js";import{u as te}from"./index-DBHOuH84.js";import{f as ae}from"./vnode-CwyaGvUL.js";import{t as le}from"./throttle-1HGvzIm8.js";import{_ as oe,w as se,c as ie}from"./plugin-vue_export-helper-O3gUY6pX.js";import{u as ne}from"./index-CXKOYI6o.js";import"./localforage-BVRgvwJc.js";import"./modulepreload-polyfill-Dqv5PPZA.js";import"./baseRequest-CU9cTnaC.js";import"./userInfo-CZAB7rZN.js";import"./version-DYnJBHiW.js";import"./style-BBQwFGbP.js";import"./debounce-Dd9nEzpy.js";import"./isSymbol-Bt1TyP4H.js";import"./_baseGet-DEcaJYAt.js";const re=K({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),ue={change:(e,t)=>[e,t].every(U)},ve=Symbol("carouselContextKey"),ce=(e,t,a)=>{const{children:f,addChild:h,removeChild:g}=te(l(),"ElCarouselItem"),y=o(),w=s(-1),x=s(null),b=s(!1),I=s(),k=s(0),C=s(!0),j=s(!0),_=s(!1),S=i((()=>"never"!==e.arrow&&!n(A))),z=i((()=>f.value.some((e=>e.props.label.toString().length>0)))),B=i((()=>"card"===e.type)),A=i((()=>"vertical"===e.direction)),L=i((()=>"auto"!==e.height?{height:e.height}:{height:`${k.value}px`,overflow:"hidden"})),M=le((e=>{N(e)}),300,{trailing:!0}),E=le((t=>{!function(t){"hover"===e.trigger&&t!==w.value&&(w.value=t,j.value||(_.value=!0))}(t)}),300);function T(){x.value&&(clearInterval(x.value),x.value=null)}function H(){e.interval<=0||!e.autoplay||x.value||(x.value=setInterval((()=>$()),e.interval))}const $=()=>{j.value||(_.value=!0),j.value=!1,w.value<f.value.length-1?w.value=w.value+1:e.loop&&(w.value=0)};function N(t){if(j.value||(_.value=!0),j.value=!1,r(t)){const e=f.value.filter((e=>e.props.name===t));e.length>0&&(t=f.value.indexOf(e[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const a=f.value.length,l=w.value;w.value=t<0?e.loop?a-1:0:t>=a?e.loop?0:a-1:t,l===w.value&&V(l),G()}function V(e){f.value.forEach(((t,a)=>{t.translateItem(a,w.value,e)}))}function G(){T(),e.pauseOnHover||H()}u((()=>w.value),((e,a)=>{V(a),C.value&&(e%=2,a%=2),a>-1&&t("change",e,a)})),u((()=>e.autoplay),(e=>{e?H():T()})),u((()=>e.loop),(()=>{N(w.value)})),u((()=>e.interval),(()=>{G()}));const D=v();return c((()=>{u((()=>f.value),(()=>{f.value.length>0&&N(e.initialIndex)}),{immediate:!0}),D.value=ee(I.value,(()=>{V()})),H()})),d((()=>{T(),I.value&&D.value&&D.value.stop()})),p(ve,{root:I,isCardType:B,isVertical:A,items:f,loop:e.loop,addItem:h,removeItem:g,setActiveItem:N,setContainerHeight:function(t){"auto"===e.height&&(k.value=t)}}),{root:I,activeIndex:w,arrowDisplay:S,hasLabel:z,hover:b,isCardType:B,isTransitioning:_,items:f,isVertical:A,containerStyle:L,isItemsTwoLength:C,handleButtonEnter:function(e){n(A)||f.value.forEach(((t,a)=>{e===function(e,t){var a,l,o,s;const i=n(f),r=i.length;if(0===r||!e.states.inStage)return!1;const u=t+1,v=t-1,c=r-1,d=i[c].states.active,p=i[0].states.active,m=null==(l=null==(a=i[u])?void 0:a.states)?void 0:l.active,h=null==(s=null==(o=i[v])?void 0:o.states)?void 0:s.active;return t===c&&p||m?"left":!!(0===t&&d||h)&&"right"}(t,a)&&(t.states.hover=!0)}))},handleTransitionEnd:function(){_.value=!1},handleButtonLeave:function(){n(A)||f.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){e!==w.value&&(j.value||(_.value=!0)),w.value=e},handleMouseEnter:function(){b.value=!0,e.pauseOnHover&&T()},handleMouseLeave:function(){b.value=!1,H()},setActiveItem:N,prev:function(){N(w.value-1)},next:function(){N(w.value+1)},PlaceholderItem:function(){var t;const a=null==(t=y.default)?void 0:t.call(y);if(!a)return null;const l=ae(a).filter((e=>m(e)&&"ElCarouselItem"===e.type.name));return 2===(null==l?void 0:l.length)&&e.loop&&!B.value?(C.value=!0,l):(C.value=!1,null)},isTwoLengthShow:e=>!C.value||(w.value<=1?e<=1:e>1),throttledArrowClick:M,throttledIndicatorHover:E}},de=["aria-label"],pe=["aria-label"],me=["onMouseenter","onClick"],fe=["aria-label"],he={key:0},ge={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},ye=[b("defs",null,[b("filter",{id:"elCarouselHorizontal"},[b("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),b("filter",{id:"elCarouselVertical"},[b("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1)],we=f({name:"ElCarousel"});var xe=oe(f({...we,props:re,emits:ue,setup(a,{expose:l,emit:o}){const s=a,{root:r,activeIndex:u,arrowDisplay:v,hasLabel:c,hover:d,isCardType:p,items:m,isVertical:f,containerStyle:E,handleButtonEnter:T,handleButtonLeave:H,isTransitioning:$,handleIndicatorClick:N,handleMouseEnter:V,handleMouseLeave:G,handleTransitionEnd:D,setActiveItem:P,prev:R,next:O,PlaceholderItem:F,isTwoLengthShow:q,throttledArrowClick:W,throttledIndicatorHover:X}=ce(s,o),Y=Q("carousel"),{t:K}=ne(),U=i((()=>{const e=[Y.b(),Y.m(s.direction)];return n(p)&&e.push(Y.m("card")),e})),Z=i((()=>{const e=[Y.e("container")];return s.motionBlur&&n($)&&e.push(n(f)?`${Y.namespace.value}-transitioning-vertical`:`${Y.namespace.value}-transitioning`),e})),ee=i((()=>{const e=[Y.e("indicators"),Y.em("indicators",s.direction)];return n(c)&&e.push(Y.em("indicators","labels")),"outside"===s.indicatorPosition&&e.push(Y.em("indicators","outside")),n(f)&&e.push(Y.em("indicators","right")),e}));return l({setActiveItem:P,prev:R,next:O}),(a,l)=>(h(),g("div",{ref_key:"root",ref:r,class:I(n(U)),onMouseenter:l[7]||(l[7]=k(((...e)=>n(V)&&n(V)(...e)),["stop"])),onMouseleave:l[8]||(l[8]=k(((...e)=>n(G)&&n(G)(...e)),["stop"]))},[n(v)?(h(),y(_,{key:0,name:"carousel-arrow-left",persisted:""},{default:w((()=>[x(b("button",{type:"button",class:I([n(Y).e("arrow"),n(Y).em("arrow","left")]),"aria-label":n(K)("el.carousel.leftArrow"),onMouseenter:l[0]||(l[0]=e=>n(T)("left")),onMouseleave:l[1]||(l[1]=(...e)=>n(H)&&n(H)(...e)),onClick:l[2]||(l[2]=k((e=>n(W)(n(u)-1)),["stop"]))},[C(n(J),null,{default:w((()=>[C(n(e))])),_:1})],42,de),[[j,("always"===a.arrow||n(d))&&(s.loop||n(u)>0)]])])),_:1})):S("v-if",!0),n(v)?(h(),y(_,{key:1,name:"carousel-arrow-right",persisted:""},{default:w((()=>[x(b("button",{type:"button",class:I([n(Y).e("arrow"),n(Y).em("arrow","right")]),"aria-label":n(K)("el.carousel.rightArrow"),onMouseenter:l[3]||(l[3]=e=>n(T)("right")),onMouseleave:l[4]||(l[4]=(...e)=>n(H)&&n(H)(...e)),onClick:l[5]||(l[5]=k((e=>n(W)(n(u)+1)),["stop"]))},[C(n(J),null,{default:w((()=>[C(n(t))])),_:1})],42,pe),[[j,("always"===a.arrow||n(d))&&(s.loop||n(u)<n(m).length-1)]])])),_:1})):S("v-if",!0),b("div",{class:I(n(Z)),style:B(n(E)),onTransitionend:l[6]||(l[6]=(...e)=>n(D)&&n(D)(...e))},[C(n(F)),z(a.$slots,"default")],38),"none"!==a.indicatorPosition?(h(),g("ul",{key:2,class:I(n(ee))},[(h(!0),g(A,null,L(n(m),((e,t)=>x((h(),g("li",{key:t,class:I([n(Y).e("indicator"),n(Y).em("indicator",a.direction),n(Y).is("active",t===n(u))]),onMouseenter:e=>n(X)(t),onClick:k((e=>n(N)(t)),["stop"])},[b("button",{class:I(n(Y).e("button")),"aria-label":n(K)("el.carousel.indicator",{index:t+1})},[n(c)?(h(),g("span",he,M(e.props.label),1)):S("v-if",!0)],10,fe)],42,me)),[[j,n(q)(t)]]))),128))],2)):S("v-if",!0),s.motionBlur?(h(),g("svg",ge,ye)):S("v-if",!0)],34))}}),[["__file","carousel.vue"]]);const be=K({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Ie=(e,t)=>{const a=E(ve),o=l(),i=.83,r=s(),u=s(!1),v=s(0),d=s(1),p=s(!1),m=s(!1),f=s(!1),h=s(!1),{isCardType:g,isVertical:y}=a;const w=(e,t,l)=>{var o;const s=n(g),u=null!=(o=a.items.value.length)?o:Number.NaN,c=e===t;s||Z(l)||(h.value=c||e===l),!c&&u>2&&a.loop&&(e=function(e,t,a){const l=a-1,o=a/2;return 0===t&&e===l?-1:t===l&&0===e?a:e<t-1&&t-e>=o?a+1:e>t+1&&e-t>=o?-2:e}(e,t,u));const w=n(y);p.value=c,s?(f.value=Math.round(Math.abs(e-t))<=1,v.value=function(e,t){var l,o;const s=n(y)?(null==(l=a.root.value)?void 0:l.offsetHeight)||0:(null==(o=a.root.value)?void 0:o.offsetWidth)||0;return f.value?s*(1.17*(e-t)+1)/4:e<t?-1.83*s/4:3.83*s/4}(e,t),d.value=n(p)?1:i):v.value=function(e,t,l){const o=a.root.value;return o?((l?o.offsetHeight:o.offsetWidth)||0)*(e-t):0}(e,t,w),m.value=!0,c&&r.value&&a.setContainerHeight(r.value.offsetHeight)};return c((()=>{a.addItem({props:e,states:T({hover:u,translate:v,scale:d,active:p,ready:m,inStage:f,animating:h}),uid:o.uid,translateItem:w})})),H((()=>{a.removeItem(o.uid)})),{carouselItemRef:r,active:p,animating:h,hover:u,inStage:f,isVertical:y,translate:v,isCardType:g,scale:d,ready:m,handleItemClick:function(){if(a&&n(g)){const e=a.items.value.findIndex((({uid:e})=>e===o.uid));a.setActiveItem(e)}}}},ke=f({name:"ElCarouselItem"});var Ce=oe(f({...ke,props:be,setup(e){const t=e,a=Q("carousel"),{carouselItemRef:l,active:o,animating:s,hover:r,inStage:u,isVertical:v,translate:c,isCardType:d,scale:p,ready:m,handleItemClick:f}=Ie(t),y=i((()=>[a.e("item"),a.is("active",o.value),a.is("in-stage",u.value),a.is("hover",r.value),a.is("animating",s.value),{[a.em("item","card")]:d.value,[a.em("item","card-vertical")]:d.value&&v.value}])),w=i((()=>({transform:[`${"translate"+(n(v)?"Y":"X")}(${n(c)}px)`,`scale(${n(p)})`].join(" ")})));return(e,t)=>x((h(),g("div",{ref_key:"carouselItemRef",ref:l,class:I(n(y)),style:B(n(w)),onClick:t[0]||(t[0]=(...e)=>n(f)&&n(f)(...e))},[n(d)?x((h(),g("div",{key:0,class:I(n(a).e("mask"))},null,2)),[[j,!n(o)]]):S("v-if",!0),z(e.$slots,"default")],6)),[[j,n(m)]])}}),[["__file","carousel-item.vue"]]);const je=se(xe,{CarouselItem:Ce}),_e=ie(Ce),Se={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"},ze=[b("path",{d:"M217.9,256L345,129c9.4-9.4,9.4-24.6,0-33.9c-9.4-9.4-24.6-9.3-34,0L167,239c-9.1,9.1-9.3,23.7-0.7,33.1L310.9,417\n\tc4.7,4.7,10.9,7,17,7c6.1,0,12.3-2.3,17-7c9.4-9.4,9.4-24.6,0-33.9L217.9,256z"},null,-1)],Be=f({name:"IosArrowBack",render:function(e,t){return h(),g("svg",Se,ze)}}),Ae={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"},Le=[b("path",{d:"M294.1,256L167,129c-9.4-9.4-9.4-24.6,0-33.9s24.6-9.3,34,0L345,239c9.1,9.1,9.3,23.7,0.7,33.1L201.1,417\n\tc-4.7,4.7-10.9,7-17,7c-6.1,0-12.3-2.3-17-7c-9.4-9.4-9.4-24.6,0-33.9L294.1,256z"},null,-1)],Me=f({name:"IosArrowForward",render:function(e,t){return h(),g("svg",Ae,Le)}}),Ee={class:"switch-btn absolute inset-x-0 flex justify-center items-center top-[10%] z-20"},Te={class:"ml-4 mr-4 f16"},He={class:"absolute inset-0"},$e=["src"],Ne={key:0,class:"absolute left-4 bottom-3 z-20"},Ve=$({__name:"BgMask",props:{size:{type:String}},setup(e){const t=D("itab-tomato"),l=e,o=s([{type:"hailang",n:"海浪"}]);function r(){setTimeout((()=>{let e=o.value.findIndex((e=>e.type===F.value.type));-1!==e&&v.value.setActiveItem(e)}),0)}!async function(){let e="app-tomato-audio",t=await Y.getItem(e);t.data&&(o.value=t.data||[]);if(!t.isExp)return void r();let{data:a}=await X();a=a||[],a.length&&(o.value=a||[],r(),Y.set(e,a,864e6))}(),u((()=>F.value),(e=>{r()}),{immediate:!0});const v=s(null),c=e=>{"prev"===e?v.value.prev():v.value.next()},d=i((()=>{let e=1366,t=768;return"2x2"==l.size?(e=200,t=200):"2x4"==l.size?(e=500,t=200):"1x2"==l.size?(e=160,t=80):"4x2"==l.size&&(e=80,t=80),`x-oss-process=image/resize,limit_0,m_fill,w_${e},h_${t}/format,webp`})),p=e=>{F.value=o.value[e],async function(){let e=await P(F.value.type);F.value.src=e,R()?O({type:"switchAudio",data:G(F.value)},t):W(G(F.value))}()};return(t,l)=>(h(),g("span",null,[b("div",Ee,[e.size&&"2x4"!=e.size?S("",!0):(h(),g(A,{key:0},[b("i",{class:"d-icon f22 cursor-pointer",onClick:l[0]||(l[0]=k((e=>c("prev")),["stop"]))},[C(n(Be))]),b("span",Te,M(n(F).n),1),b("i",{class:"d-icon f22 cursor-pointer",onClick:l[1]||(l[1]=k((e=>c("next")),["stop"]))},[C(n(Me))])],64))]),b("div",He,[C(n(je),{"initial-index":0,ref_key:"carouselRef",ref:v,onChange:p,"indicator-position":"none",arrow:"never",autoplay:!1,class:"h-full",height:"100%"},{default:w((()=>[(h(!0),g(A,null,L(o.value,(e=>(h(),y(n(_e),{key:e},{default:w((()=>[b("div",{class:"absolute inset-0",style:B([{background:n(F).m},{"z-index":"1"}])},null,4),b("img",{src:`${n(q)}/itab/widget/tomato/${e.type}.jpg?${d.value}`,loading:"lazy",alt:"bg",class:"w-full h-full object-cover"},null,8,$e)])),_:2},1024)))),128))])),_:1},512)]),e.size?S("",!0):(h(),g("div",Ne,[(h(),y(N(V((()=>a((()=>import("./VolumeSet-BebE3rw_.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url))))))]))]))}},[["__scopeId","data-v-5eaff851"]]);export{Ve as default};
