import{m as e,c as s,p as t,q as o,A as n,I as a,H as l,v as r,t as i,z as p,u as d,C as u,B as m,x as c,a1 as f,bb as g,a as y,o as v,w as b,G as x,J as C,b5 as h,F as S,bH as j,i as B,l as T,d as _,r as N}from"./index-CyyLRP8W.js";import{u as w,a as I}from"./index-BrMlOSMZ.js";import{b as k,d as $,u as H}from"./index-B3sKL47p.js";import{_ as L,w as M,a as z}from"./plugin-vue_export-helper-O3gUY6pX.js";import{g as A,c as D,u as E,j as U}from"./types-Ci7ev57k.js";import{a as O}from"./style-BBQwFGbP.js";import{u as F}from"./index-DjlyN6je.js";import{ElIcon as R}from"./index-D4GlTUBi.js";import{m as Z}from"./typescript-CRqm1_SZ.js";import{i as G,a as q,T as J}from"./icon-Dsqoi_oS.js";import{d as K}from"./use-global-config-DcVlDyFX.js";import{E as P}from"./aria-BUADUvnR.js";import{m as Q}from"./config-provider-Bf5G9WCh.js";import"./todo-nv2WtoEp.js";import"./index-CXKOYI6o.js";import"./_baseGet-DEcaJYAt.js";import"./isSymbol-Bt1TyP4H.js";import"./index-CB1eEFAV.js";import"./index-BFuAB0_P.js";const V=k({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:$([String,Object,Array])},badgeStyle:{type:$([String,Object,Array])},offset:{type:$(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),W=["textContent"],X=e({name:"ElBadge"});const Y=M(L(e({...X,props:V,setup(e,{expose:g}){const y=e,v=H("badge"),b=s((()=>y.isDot?"":A(y.value)&&A(y.max)?y.max<y.value?`${y.max}+`:0!==y.value||y.showZero?`${y.value}`:"":`${y.value}`)),x=s((()=>{var e,s,t,o,n,a;return[{backgroundColor:y.color,marginRight:O(-(null!=(s=null==(e=y.offset)?void 0:e[0])?s:0)),marginTop:O(null!=(o=null==(t=y.offset)?void 0:t[1])?o:0)},null!=(n=y.dotStyle)?n:{},null!=(a=y.badgeStyle)?a:{}]}));return F({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},s((()=>!!y.dotStyle))),F({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},s((()=>!!y.dotClass))),g({content:b}),(e,s)=>(t(),o("div",{class:p(d(v).b())},[n(e.$slots,"default"),a(f,{name:`${d(v).namespace.value}-zoom-in-center`,persisted:""},{default:l((()=>[r(i("sup",{class:p([d(v).e("content"),d(v).em("content",e.type),d(v).is("fixed",!!e.$slots.default),d(v).is("dot",e.isDot),e.dotClass,e.badgeClass]),style:u(d(x)),textContent:m(d(b))},null,14,W),[[c,!e.hidden&&(d(b)||e.isDot)]])])),_:1},8,["name"])],2))}}),[["__file","badge.vue"]])),ee=["success","info","warning","error"],se=Z({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:D?document.body:void 0}),te=k({customClass:{type:String,default:se.customClass},center:{type:Boolean,default:se.center},dangerouslyUseHTMLString:{type:Boolean,default:se.dangerouslyUseHTMLString},duration:{type:Number,default:se.duration},icon:{type:G,default:se.icon},id:{type:String,default:se.id},message:{type:$([String,Object,Function]),default:se.message},onClose:{type:$(Function),default:se.onClose},showClose:{type:Boolean,default:se.showClose},type:{type:String,values:ee,default:se.type},plain:{type:Boolean,default:se.plain},offset:{type:Number,default:se.offset},zIndex:{type:Number,default:se.zIndex},grouping:{type:Boolean,default:se.grouping},repeatNum:{type:Number,default:se.repeatNum}}),oe={destroy:()=>!0},ne=g([]),ae=e=>{const{prev:s}=(e=>{const s=ne.findIndex((s=>s.id===e)),t=ne[s];let o;return s>0&&(o=ne[s-1]),{current:t,prev:o}})(e);return s?s.vm.exposed.bottom.value:0},le=["id"],re=["innerHTML"],ie=e({name:"ElMessage"});var pe=L(e({...ie,props:te,emits:oe,setup(e,{expose:g}){const B=e,{Close:T}=J,{ns:_,zIndex:N}=K("message"),{currentZIndex:k,nextZIndex:$}=N,H=y(),L=y(!1),M=y(0);let z;const A=s((()=>B.type?"error"===B.type?"danger":B.type:"info")),D=s((()=>{const e=B.type;return{[_.bm("icon",e)]:e&&q[e]}})),U=s((()=>B.icon||q[B.type]||"")),O=s((()=>ae(B.id))),F=s((()=>((e,s)=>ne.findIndex((s=>s.id===e))>0?16:s)(B.id,B.offset)+O.value)),Z=s((()=>M.value+F.value)),G=s((()=>({top:`${F.value}px`,zIndex:k.value})));function Q(){0!==B.duration&&({stop:z}=E((()=>{W()}),B.duration))}function V(){null==z||z()}function W(){L.value=!1}return v((()=>{Q(),$(),L.value=!0})),b((()=>B.repeatNum),(()=>{V(),Q()})),w(document,"keydown",(function({code:e}){e===P.esc&&W()})),I(H,(()=>{M.value=H.value.getBoundingClientRect().height})),g({visible:L,bottom:Z,close:W}),(e,s)=>(t(),x(f,{name:d(_).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s[0]||(s[0]=s=>e.$emit("destroy")),persisted:""},{default:l((()=>[r(i("div",{id:e.id,ref_key:"messageRef",ref:H,class:p([d(_).b(),{[d(_).m(e.type)]:e.type},d(_).is("center",e.center),d(_).is("closable",e.showClose),d(_).is("plain",e.plain),e.customClass]),style:u(d(G)),role:"alert",onMouseenter:V,onMouseleave:Q},[e.repeatNum>1?(t(),x(d(Y),{key:0,value:e.repeatNum,type:d(A),class:p(d(_).e("badge"))},null,8,["value","type","class"])):C("v-if",!0),d(U)?(t(),x(d(R),{key:1,class:p([d(_).e("icon"),d(D)])},{default:l((()=>[(t(),x(h(d(U))))])),_:1},8,["class"])):C("v-if",!0),n(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(t(),o(S,{key:1},[C(" Caution here, message could've been compromised, never use user's input as message "),i("p",{class:p(d(_).e("content")),innerHTML:e.message},null,10,re)],2112)):(t(),o("p",{key:0,class:p(d(_).e("content"))},m(e.message),3))])),e.showClose?(t(),x(d(R),{key:2,class:p(d(_).e("closeBtn")),onClick:j(W,["stop"])},{default:l((()=>[a(d(T))])),_:1},8,["class","onClick"])):C("v-if",!0)],46,le),[[c,L.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","message.vue"]]);let de=1;const ue=e=>{const s=!e||B(e)||T(e)||_(e)?{message:e}:e,t={...se,...s};if(t.appendTo){if(B(t.appendTo)){let e=document.querySelector(t.appendTo);U(e)||(e=document.body),t.appendTo=e}}else t.appendTo=document.body;return t},me=({appendTo:e,...s},t)=>{const o="message_"+de++,n=s.onClose,l=document.createElement("div"),r={...s,id:o,onClose:()=>{null==n||n(),(e=>{const s=ne.indexOf(e);if(-1===s)return;ne.splice(s,1);const{handler:t}=e;t.close()})(u)},onDestroy:()=>{N(null,l)}},i=a(pe,r,_(r.message)||T(r.message)?{default:_(r.message)?r.message:()=>r.message}:null);i.appContext=t||ce._context,N(i,l),e.appendChild(l.firstElementChild);const p=i.component,d={close:()=>{p.exposed.visible.value=!1}},u={id:o,vnode:i,vm:p,handler:d,props:i.component.props};return u},ce=(e={},s)=>{if(!D)return{close:()=>{}};if(A(Q.max)&&ne.length>=Q.max)return{close:()=>{}};const t=ue(e);if(t.grouping&&ne.length){const e=ne.find((({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===t.message}));if(e)return e.props.repeatNum+=1,e.props.type=t.type,e.handler}const o=me(t,s);return ne.push(o),o.handler};ee.forEach((e=>{ce[e]=(s={},t)=>{const o=ue(s);return ce({...o,type:e},t)}})),ce.closeAll=function(e){for(const s of ne)e&&e!==s.props.type||s.handler.close()},ce._context=null;const fe=z(ce,"$message");export{fe as ElMessage,fe as default,se as messageDefaults,oe as messageEmits,te as messageProps,ee as messageTypes};
