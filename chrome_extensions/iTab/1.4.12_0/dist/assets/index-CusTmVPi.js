import{_ as e}from"./d-dialog-Dp99XzOL.js";import{m as t,p as s,q as i,t as o,_ as r,s as a,b0 as l,n,aV as m,I as d,H as p,F as c,y as u,G as f,u as _,B as j,z as y,bH as g,L as h,C as w,E as L}from"./index-CyyLRP8W.js";/* empty css            */import"./css-D3Kd0WPg.js";/* empty css                 */import{E as x,a as Y,b as v}from"./el-select-D9newx6z.js";import"./el-scrollbar-BVpSQI8U.js";/* empty css                  */import{n as z,a0 as b}from"./todo-nv2WtoEp.js";import{b as k,c as C,d as A}from"./localforage-BVRgvwJc.js";import M from"./eventBus-BB4cUTPt.js";import{a as H}from"./timezone-BjRgUK28.js";import{a as I}from"./utc-DkED44ir.js";import{A as S,B as D}from"./main-DJB5iAKQ.js";import{a as E}from"./weatherApi-CW4P18LR.js";import O from"./indexdb-D6yYQ1E4.js";import{ElMessage as $}from"./index-BU0epQJo.js";import"./el-dialog-BoL22f5R.js";import"./index-CdRnR6wp.js";import"./index-B3sKL47p.js";import"./scroll-3JEGyj3w.js";import"./style-BBQwFGbP.js";import"./types-Ci7ev57k.js";import"./vnode-CwyaGvUL.js";import"./index-D4GlTUBi.js";import"./plugin-vue_export-helper-O3gUY6pX.js";import"./use-dialog-0gmd-idO.js";import"./icon-Dsqoi_oS.js";import"./event-BwRzfsZt.js";import"./index-CB1eEFAV.js";import"./_baseGet-DEcaJYAt.js";import"./isSymbol-Bt1TyP4H.js";import"./focus-trap-D8QWET1-.js";import"./aria-BUADUvnR.js";import"./use-global-config-DcVlDyFX.js";import"./index-CXKOYI6o.js";import"./isUndefined-DgmxjSXK.js";import"./index-hc1PwDik.js";import"./index-DjlyN6je.js";/* empty css                   */import"./getAudio-D_HGGnT2.js";/* empty css                                                 */import"./index-BPnMED6p.js";import"./index-BrMlOSMZ.js";import"./typescript-CRqm1_SZ.js";import"./index-kxe6IHwf.js";import"./hasIn-y6DbaUwA.js";import"./index-DsFsGggn.js";import"./use-form-item-CUGNa-4i.js";import"./constants-Dnj8X3EN.js";import"./index-D1OyjWme.js";import"./strings-B8lWsWjR.js";import"./isEqual-DOZxeYFr.js";import"./_baseIsEqual-DN6o0BQy.js";import"./index-BFuAB0_P.js";import"./debounce-Dd9nEzpy.js";import"./_baseIteratee-BaNfRxc9.js";import"./index-DHV32PmZ.js";import"./castArray-LUE-lsy0.js";import"./modulepreload-polyfill-Dqv5PPZA.js";import"./baseRequest-CU9cTnaC.js";import"./userInfo-CZAB7rZN.js";import"./version-DYnJBHiW.js";import"./config-provider-Bf5G9WCh.js";const q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},F=[o("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"},null,-1)],R=t({name:"RefreshTwotone",render:function(e,t){return s(),i("svg",q,F)}});!function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=t(e),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var s=100*e+t;return s<600?"凌晨":s<900?"早上":s<1100?"上午":s<1300?"中午":s<1800?"下午":"晚上"}};s.default.locale(i,null,!0)}(k);const T={class:"ar"},B={class:"curr-timezone ac"},V={class:"ar f16 mt10 d-sub",style:{"margin-right":"110px"}},N={class:"fr mt20 ar",style:{"margin-right":"110px"}},P={class:"timezone-list d-inline"},U=["onClick"],G=["onClick"],K={class:"b d-elip d-block"},J={class:"mt20 d-hidden",style:{clear:"both"}},Q=r({__name:"Content",props:{size:String},setup(e){const t=a(null);A.extend(S),A.locale("zh-cn"),A.extend(I),A.extend(H);const r=a("");function k(e=""){return e?A().tz(e).format("HH:mm"):A().format("HH:mm:ss")}const C=[{name:"洛杉矶",code:"America/Los_Angeles"},{name:"纽约",code:"America/New_York"},{name:"伦敦",code:"Europe/London"},{name:"巴黎",code:"Europe/Paris"},{name:"基辅",code:"Europe/Kiev"},{name:"北京",code:"Asia/Shanghai"},{name:"东京",code:"Asia/Tokyo"}],q=e,F=l({fontFamily:"",cityList:[],cityId:"",cityOptions:[],tzList:[],widgetList:z.get("app-worldClock")||[{name:"北京",code:"Asia/Shanghai"},{name:"洛杉矶",code:"America/Los_Angeles"},{name:"纽约",code:"America/New_York"},{name:"巴黎",code:"Europe/Paris"}]});function Q(e){n((()=>{let{contentRect:t}=e[0],s=document.querySelector(".curr-timezone");s&&(s.style.fontSize=t.width/5.2+"px",s.style.lineHeight=t.width/5.2+"px")}))}function W(e){return F.widgetList.findIndex((t=>e.code===t.code))}function X(e){e&&E({location:e}).then((e=>{let t=e.data||[];F.cityOptions=t}))}async function Z(e){if(!e)return;let t=F.cityOptions.find((t=>t.id==e));F.tzList.some((e=>e.name===t.name))?$.warning("当前城市已添加"):(F.tzList.push({name:t.name,code:t.tz}),F.cityId="",O.set("app-worldClock-tzList",L(F.tzList)))}function ee(e){let t=W(e);if(-1!=t){if(1==F.widgetList.length)return void $.warning("至少保留一个");F.widgetList.splice(t,1)}else{if(F.widgetList.length>=4)return void $.warning("最多只能选4个");F.widgetList.push(e)}M.emit("app-worldClock",F.widgetList),z.set("app-worldClock",F.widgetList)}function te(){F.tzList=C,O.set("app-worldClock-tzList",L(F.tzList))}O.get("app-worldClock-tzList").then((e=>{F.tzList=e||C,ie()})),n((()=>{let e=t.value;new ResizeObserver(Q).observe(e)}));let se=null;function ie(){let e=D[A().day()],t=A(q.date).dayOfYear(),s=A.tz.guess();r.value=`${s}  ${A().format("YYYY年MM月DD日")} 星期${e}   第${t}天`,F.tzList=F.tzList.map((e=>({...e,time:k(e.code)})))}return se&&clearInterval(se),se=setInterval((()=>{ie()}),1e3),m((()=>{clearInterval(se)})),(a,l)=>(s(),i("div",{class:y(["h-full workClock-wrap relative select-text",`iconsize-${e.size}`]),ref_key:"watchResize",ref:t,style:w([{padding:"12px"},`--fontFamily:${F.fontFamily}`])},[o("div",T,[d(_(Y),{class:"w-full mt20 mr20","append-to":"",modelValue:F.cityId,"onUpdate:modelValue":l[0]||(l[0]=e=>F.cityId=e),"remote-method":X,filterable:"",remote:"",placeholder:"输入城市",onChange:Z,size:"default",style:{width:"220px"}},{default:p((()=>[(s(!0),i(c,null,u(F.cityOptions,(e=>(s(),f(_(x),{key:e.value,label:e.label,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),o("p",B,[o("time",null,j(k()),1)]),o("p",V,j(r.value),1),o("div",N,[o("ul",P,[(s(!0),i(c,null,u(F.tzList,((e,t)=>(s(),i("li",{onClick:t=>ee(e),class:y({active:"-1"!=W(e)}),key:e.tz},[o("i",{onClick:g((e=>function(e){F.tzList.splice(e,1),O.set("app-worldClock-tzList",L(F.tzList))}(t)),["stop"]),class:"d-icon item-delete",title:"删除"},[d(_(b))],8,G),o("b",K,j(e.name),1),o("p",null,j(e.time),1)],10,U)))),128))]),o("ul",J,[h(" 组件时区列表: "),(s(!0),i(c,null,u(F.widgetList,(e=>(s(),f(_(v),{key:e.code,class:"mr5",style:{"--el-color-primary":"#409eff"},closable:"","disable-transitions":!1,onClose:t=>ee(e)},{default:p((()=>[h(j(e.name),1)])),_:2},1032,["onClose"])))),128)),o("i",{onClick:te,title:"重置时区列表",class:"d-icon reset-icon",style:{"vertical-align":"-2px"}},[d(_(R))])])])],6))}},[["__scopeId","data-v-08a08f18"]]),W={__name:"index",setup:t=>(t,i)=>(s(),f(e,{width:"860px",height:"550px",destroyOnClose:!0},{default:p((()=>[d(Q)])),_:1}))};export{W as default};
