const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Trends-Cbqzm9dE.js","./install-DOZUvoqa.js","./index-CyyLRP8W.js","./index-4Dsu8OkH.css","./install-DM6rWUSt.js","./install-CffqdKv_.js","./KLine-Dfe33Hyx.js"])))=>i.map(i=>d[i]);
import{_ as e,b0 as t,b4 as a,v as s,p as i,q as l,t as o,I as n,H as r,u as d,F as c,y as p,G as m,B as u,z as f,C as v,bH as j,b5 as y,ah as h,J as b,bn as x,a as k,x as g}from"./index-CyyLRP8W.js";import{_}from"./d-dialog-Dp99XzOL.js";import{I as D,G as w,J as I,e as N,_ as C}from"./todo-nv2WtoEp.js";import{D as S}from"./vuedraggable.umd-BrO2vZZS.js";/* empty css            *//* empty css                 */import{a as T,E as O}from"./el-select-D9newx6z.js";import"./el-scrollbar-BVpSQI8U.js";/* empty css                  */import{E,a as V}from"./el-col-Dc_M3dHN.js";import{a as z,b as K,E as $}from"./el-main-D1CV8PRo.js";import{E as G,a as F}from"./el-tab-pane-Ckz1ShBR.js";import{pushListApi as M,getStockMinute as U,stockSearchApi as q,getStockInfo as A,getStockKLine as H}from"./stock-BSTw0cxT.js";import{SAVE_CONFIG as L}from"./save_config-BtHImbsT.js";import{ElIcon as J}from"./index-D4GlTUBi.js";import{D as P}from"./d-tabs-x-fZyCMJeT.js";import"./el-dialog-BoL22f5R.js";import"./index-CdRnR6wp.js";import"./index-B3sKL47p.js";import"./scroll-3JEGyj3w.js";import"./style-BBQwFGbP.js";import"./types-Ci7ev57k.js";import"./vnode-CwyaGvUL.js";import"./use-dialog-0gmd-idO.js";import"./icon-Dsqoi_oS.js";import"./event-BwRzfsZt.js";import"./index-CB1eEFAV.js";import"./_baseGet-DEcaJYAt.js";import"./isSymbol-Bt1TyP4H.js";import"./focus-trap-D8QWET1-.js";import"./plugin-vue_export-helper-O3gUY6pX.js";import"./aria-BUADUvnR.js";import"./use-global-config-DcVlDyFX.js";import"./index-CXKOYI6o.js";import"./isUndefined-DgmxjSXK.js";import"./index-hc1PwDik.js";import"./index-DjlyN6je.js";/* empty css                   */import"./main-DJB5iAKQ.js";import"./modulepreload-polyfill-Dqv5PPZA.js";import"./localforage-BVRgvwJc.js";import"./getAudio-D_HGGnT2.js";/* empty css                                                 */import"./vue.runtime.esm-bundler-Ds1RV6_Q.js";import"./index-BPnMED6p.js";import"./index-BrMlOSMZ.js";import"./typescript-CRqm1_SZ.js";import"./index-kxe6IHwf.js";import"./hasIn-y6DbaUwA.js";import"./index-DsFsGggn.js";import"./use-form-item-CUGNa-4i.js";import"./constants-Dnj8X3EN.js";import"./index-D1OyjWme.js";import"./strings-B8lWsWjR.js";import"./isEqual-DOZxeYFr.js";import"./_baseIsEqual-DN6o0BQy.js";import"./index-BFuAB0_P.js";import"./debounce-Dd9nEzpy.js";import"./_baseIteratee-BaNfRxc9.js";import"./index-DHV32PmZ.js";import"./castArray-LUE-lsy0.js";import"./index-DBHOuH84.js";import"./baseRequest-CU9cTnaC.js";import"./userInfo-CZAB7rZN.js";import"./version-DYnJBHiW.js";import"./public-api-DxRCcbRs.js";import"./website-CoEF8fmW.js";import"./index-DvjFJXYU.js";import"./indexdb-D6yYQ1E4.js";import"./eventBus-BB4cUTPt.js";const R={class:"stock-wrap relative h-full f13 select-text"},B={class:"stock-handle d-absolute d-hover d-sub"},W={class:"stock-search px-3 py-2"},Q={class:"d-flex f12",style:{width:"200px"}},X={class:"d-elip",style:{width:"30%"}},Z={class:"d-elip",style:{width:"50%"}},Y={class:"d-elip",style:{width:"20%"}},ee=["onClick"],te={class:"flex"},ae={class:"title",style:{width:"40%"}},se={class:"d-elip b d-main"},ie={class:"f12 d-main"},le={style:{width:"36%"},class:"d-elip"},oe={style:{width:"24%"}},ne=["onClick"],re={class:"mb10 d-flex"},de={class:"d-main"},ce={class:"b f20 mt5"},pe={class:"f12"},me={class:"content-header d-flex pt10",style:{"padding-right":"120px"}},ue={class:"d-cell b f28 d-elip"},fe={class:"f16"},ve={class:"f16"},je={class:"b"},ye={class:"b"},he=e({__name:"Content",setup(e){const x=D(),k=[{label:"分时",value:"trends"},{label:"日K",value:"101"},{label:"周K",value:"102"},{label:"月K",value:"103"},{label:"季K",value:"104"},{label:"年K",value:"106"}],g=t({keyword:"",activeName:"trends",activeData:{},stockOption:[],selfStockData:[],subOptions:[],stockInfo:[],stockGrails:[],loading:!1,timer:null});function _(e){return 0==e?"gray":e>0?"#e5353d":"#41c662"}function P(e){var t,a,s,i;x.value=(t=x.value,a=e.newIndex,s=e.oldIndex,i=t[s],t[s]=t[a],t[a]=i,t)}function he(e){e&&q(e).then((e=>{g.subOptions=e.data||[]}))}function be(e){if(x.value.some((t=>t.Code==e.Code)))return;let t={Code:e.Code,Name:e.Name,MktNum:e.MktNum,SecurityTypeName:e.SecurityTypeName,SecurityType:e.SecurityType};g.activeData=t,x.value.unshift(t),De(!0),Ie()}function xe(e){"trends"==e?we():function(){const e={secid:`${g.activeData.f13}.${g.activeData.f12}`,klt:g.activeName};H(e).then((e=>{g.stockOption=e.data.klines||[]}))}()}g.timer?clearInterval(g.timer):g.timer=setInterval((()=>{De()}),6e4);let ke={1:"sh",2:"sz",5:"sz",19:"r_hk",20:"us"};const ge=[{n:"最高",i:33},{n:"今开",i:5},{n:"成交量",i:6,unit:"手"},{n:"最低",i:34},{n:"昨收",i:4},{n:"成交额",i:37,unit:"亿"},{n:"总市值",i:45,unit:"亿"},{n:"流通",i:44,unit:"亿"}];function _e(){let e=x.value.find((e=>e.Code==g.activeData.f12));g.activeData.SecurityTypeName=e.SecurityTypeName;let t=ke[e.SecurityType],a=`${t}${e.Code}`;g.stockInfo=[],A(a).then((e=>{if(!e)return;e=e.split("~");let a=1e4;["r_hk","us"].includes(t)&&(a=1e8),e[37]=(e[37]/a).toFixed(2),e[44]=(e[44]/1).toFixed(2),e[45]=(e[45]/1).toFixed(2),g.stockInfo=e}))}function De(e){if(!x.value.length)return;g.loading=!0;let t=x.value.map((e=>`${e.MktNum}.${e.Code}`));M(t.join(",")).then((t=>{g.selfStockData=t.data.diff||[],w(g.activeData)&&(g.activeData=g.selfStockData[0]),e&&(g.activeData=g.selfStockData.find((e=>e.f12===g.activeData.Code))),g.activeName="trends",we(),_e()})).finally((()=>{setTimeout((()=>{g.loading=!1}),200)}));M(["1.000001","0.399001","0.399006","1.000688","100.HSI"].join(",")).then((e=>{g.stockGrails=e.data.diff||[]}))}function we(){const e={secid:`${g.activeData.f13}.${g.activeData.f12}`};U(e).then((e=>{g.stockOption=e.data.trends||[]}))}function Ie(){L("stocks")}return De(),(e,t)=>{const D=a("loading");return s((i(),l("div",R,[o("div",B,[n(d(J),{size:16,title:"手动刷新，1分钟自动刷新一次",onClick:t[0]||(t[0]=e=>De())},{default:r((()=>[n(d(I))])),_:1})]),n(d($),{class:"d-layout h-full"},{default:r((()=>[n(d(z),{class:"d-left-tabs",style:{"background-color":"var(--bg-card)",width:"240px","border-right":"1px solid rgba(var(--alpha-color), 0.04)"}},{default:r((()=>[o("div",W,[n(d(T),{class:"w-full",modelValue:g.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>g.keyword=e),size:"default",filterable:"",remote:"","reserve-keyword":"","value-key":"Code",placeholder:"输入股票名称、代码","remote-method":he,onChange:be},{default:r((()=>[(i(!0),l(c,null,p(g.subOptions,(e=>(i(),m(d(O),{key:e.ID,value:e},{default:r((()=>[o("li",Q,[o("span",X,u(e.Code),1),o("span",Z,u(e.Name),1),o("span",Y,u(e.SecurityTypeName),1)])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])]),n(d(S),{class:"self-content d-scrollbar-hide px-3",animation:200,list:g.selfStockData,itemKey:"f12",onEnd:P},{item:r((({element:e,index:t})=>[(i(),l("p",{class:f(["self-content-li px-2 py-1",[_(e.f3),{active:g.activeData==e}]]),key:e.f12,onClick:t=>{return a=e,g.activeData=a,g.activeName="trends",we(),void _e();var a},style:v({color:_(e.f3)})},[o("div",te,[o("span",ae,[o("p",se,u(e.f14),1),o("code",ie,u(e.f12),1)]),o("span",le,u(e.f2),1),o("span",oe,u(e.f3)+"%",1)]),o("span",{class:"stock-del d-flex-center",onClick:j((a=>function(e,t){e.f12==g.activeData.f12&&(g.activeData={}),x.value.splice(t,1),De(),Ie()}(e,t)),["stop"])},[n(d(J),{size:"20"},{default:r((()=>[n(d(N))])),_:1})],8,ne)],14,ee))])),_:1},8,["list"])])),_:1}),n(d(K),{class:"todo-content pr10 h-full",style:{"padding-top":"10px"}},{default:r((()=>[o("ul",re,[(i(!0),l(c,null,p(g.stockGrails,(e=>(i(),l("li",{style:v({color:_(e.f3)}),class:"mr20",key:e.f1},[o("span",de,u(e.f14),1),o("p",ce,u(e.f2),1),o("p",pe,u(e.f4)+"("+u(e.f3)+"%)",1)],4)))),128))]),o("div",me,[o("span",ue,[o("b",null,u(g.activeData.f14),1),o("small",fe,u(g.activeData.f12),1),o("small",ve,u(g.activeData.SecurityTypeName),1)]),o("p",je,[o("span",null,u(g.activeData.f2),1),o("span",{style:v([{background:"gray","border-radius":"3px",padding:"0 4px","line-height":"18px",color:"#fff"},{backgroundColor:_(g.activeData.f3)}]),class:"ml10 f12 d-inline"},u(g.activeData.f3),5)])]),n(d(E),{class:"mt10 bt",style:{"line-height":"26px"}},{default:r((()=>[(i(),l(c,null,p(ge,(e=>n(d(V),{span:8,key:e},{default:r((()=>[o("span",null,u(e.n)+"：",1),o("span",ye,u(g.stockInfo[e.i]||"-")+" "+u(e.unit),1)])),_:2},1024))),64))])),_:1}),n(d(G),{class:"stock-title bb bt",modelValue:g.activeName,"onUpdate:modelValue":t[2]||(t[2]=e=>g.activeName=e),onTabChange:xe},{default:r((()=>[(i(),l(c,null,p(k,(e=>n(d(F),{key:e.value,name:e.value,label:e.label},null,8,["name","label"]))),64))])),_:1},8,["modelValue"]),"trends"==g.activeName?(i(),m(y(h((()=>C((()=>import("./Trends-Cbqzm9dE.js")),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)))),{key:0,data:g.stockOption,style:{width:"100%",height:"316px"}},null,8,["data"])):b("",!0),"trends"!=g.activeName?(i(),m(y(h((()=>C((()=>import("./KLine-Dfe33Hyx.js")),__vite__mapDeps([6,1,2,3,5,4]),import.meta.url)))),{key:1,data:g.stockOption,style:{width:"100%",height:"316px"}},null,8,["data"])):b("",!0)])),_:1})])),_:1})])),[[D,g.loading]])}}},[["__scopeId","data-v-35e5cf00"]]),be={class:"ac",style:{background:"var(--bg-card)"}},xe={key:0,style:{height:"calc(100% - 32px)"}},ke={frameborder:"0",width:"100%",height:"100%",scrolling:"yes",src:"https://www.jin10.com/example/jin10.com.html?fontSize=14px&theme=white"},ge={class:"mt5",frameborder:"0",width:"100%",height:"100%",scrolling:"yes",src:"https://rili-d.jin10.com/open.php?fontSize=14px&theme=primary"},_e={name:"appStock"},De=Object.assign(_e,{setup(e){x();const t=k("content");return(e,a)=>(i(),m(_,{height:"600px"},{default:r((()=>[o("div",be,[n(P,{style:{width:"350px",margin:"0 auto"},class:"mt5",modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),data:[{name:"自选股",id:"content"},{name:"财经日历",id:"calendar"},{name:"市场快讯",id:"news"}]},null,8,["modelValue"])]),s(n(he,null,null,512),[[g,"content"==t.value]]),"content"!==t.value?(i(),l("div",xe,[s(o("iframe",ke,null,512),[[g,"news"===t.value]]),s(o("iframe",ge,null,512),[[g,"calendar"===t.value]])])):b("",!0)])),_:1}))}});export{De as default};
