import{u as t,i as a,a as e,b as o,H as s}from"./install-DOZUvoqa.js";import{i,a as r}from"./install-CffqdKv_.js";import{i as n,a as l,b as p}from"./install-DM6rWUSt.js";import{c as d,p as c,G as m,u}from"./index-CyyLRP8W.js";const y={__name:"KLine",props:{data:{type:Array,default:[]}},setup(y){t([a,e,o,i,r,n,l,p]);const h=y;function g(t,a){for(var e=[],o=0,s=t.values.length;o<s;o++)if(o<a)e.push("-");else{for(var i=0,r=0;r<a;r++)i+=+t.values[o-r][1];e.push(i/a)}return e}const b=d((()=>{let t=function(t){const a=[],e=[];return t.forEach(((t,o)=>{let s=t.split(",");var i,r,n,l;a.push(s.splice(0,1)[0]),r=2,l=(i=s)[n=3],i[n]=i[r],i[r]=l,s=i,e.push(s)})),{categoryData:a,values:e}}(h.data);return{backgroundColor:"transparent",title:{text:"",subtext:"",left:0},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["日K","MA5","MA10","MA20","MA30"]},grid:{top:36,left:0,right:10,bottom:40,containLabel:!0},xAxis:{type:"category",data:t.categoryData,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},min:"dataMin",max:"dataMax"},yAxis:{scale:!0,splitLine:{lineStyle:{color:"rgba(100,100,100,.1)"}}},dataZoom:[{type:"inside",height:20,bottom:10,borderColor:"rgba(100,100,100,.5)",start:50,end:100},{show:!0,type:"slider",height:20,bottom:10,borderColor:"rgba(100,100,100,.5)",start:50,end:100}],series:[{name:"日K",type:"candlestick",data:t.values},{name:"MA5",type:"line",data:g(t,5),smooth:!0,lineStyle:{width:1,opacity:.5}},{name:"MA10",type:"line",data:g(t,10),smooth:!0,lineStyle:{width:1,opacity:.5}},{name:"MA20",type:"line",data:g(t,20),smooth:!0,lineStyle:{width:1,opacity:.5}},{name:"MA30",type:"line",data:g(t,30),smooth:!0,lineStyle:{width:1,opacity:.5}}]}}));return(t,a)=>(c(),m(u(s),{autoresize:"",theme:"dark",class:"chart",option:b.value},null,8,["option"]))}};export{y as default};
