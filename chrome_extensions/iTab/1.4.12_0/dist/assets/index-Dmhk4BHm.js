const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./indexdb-D6yYQ1E4.js","./localforage-BVRgvwJc.js"])))=>i.map(i=>d[i]);
import{m as e,T as t,_ as l,U as s,f as a}from"./todo-nv2WtoEp.js";import{m as i,p as o,q as r,t as n,_ as d,b0 as p,c as m,w as c,b3 as h,G as u,H as y,I as f,u as g,F as j,y as x,z as v,L as b,B as _,bH as L,a2 as w,v as k,x as z,a_ as I,aX as C}from"./index-CyyLRP8W.js";/* empty css                                               */import{_ as T}from"./d-dialog-Dp99XzOL.js";/* empty css            */import"./css-D3Kd0WPg.js";import{E as D}from"./el-skeleton-item-VIGPGOxG.js";import{E as H,a as E}from"./el-tab-pane-Ckz1ShBR.js";/* empty css                 *//* empty css                  *//* empty css                   */import{getTopListApi as S,getTopCategoryApi as V}from"./topsearch-AD29rt4v.js";import{googleAnalytics as W}from"./statistics-CfKG6dyg.js";import{D as M}from"./vuedraggable.umd-BrO2vZZS.js";import{E as O}from"./index-BPnMED6p.js";import{E as U}from"./index-Bpip5WJa.js";import{S as R,a as $}from"./StarRegular-BQgo9xPu.js";import{ElMessage as A}from"./index-BU0epQJo.js";import"./el-dialog-BoL22f5R.js";import"./index-CdRnR6wp.js";import"./index-B3sKL47p.js";import"./scroll-3JEGyj3w.js";import"./style-BBQwFGbP.js";import"./types-Ci7ev57k.js";import"./vnode-CwyaGvUL.js";import"./index-D4GlTUBi.js";import"./plugin-vue_export-helper-O3gUY6pX.js";import"./use-dialog-0gmd-idO.js";import"./icon-Dsqoi_oS.js";import"./event-BwRzfsZt.js";import"./index-CB1eEFAV.js";import"./_baseGet-DEcaJYAt.js";import"./isSymbol-Bt1TyP4H.js";import"./focus-trap-D8QWET1-.js";import"./aria-BUADUvnR.js";import"./use-global-config-DcVlDyFX.js";import"./index-CXKOYI6o.js";import"./isUndefined-DgmxjSXK.js";import"./index-hc1PwDik.js";import"./index-DjlyN6je.js";/* empty css                   */import"./main-DJB5iAKQ.js";import"./modulepreload-polyfill-Dqv5PPZA.js";import"./localforage-BVRgvwJc.js";import"./getAudio-D_HGGnT2.js";/* empty css                                                 */import"./index-BrMlOSMZ.js";import"./typescript-CRqm1_SZ.js";import"./strings-B8lWsWjR.js";import"./index-DBHOuH84.js";import"./baseRequest-CU9cTnaC.js";import"./userInfo-CZAB7rZN.js";import"./version-DYnJBHiW.js";import"./useSta-BMJfgb02.js";import"./indexdb-D6yYQ1E4.js";import"./vue.runtime.esm-bundler-Ds1RV6_Q.js";import"./index-kxe6IHwf.js";import"./hasIn-y6DbaUwA.js";import"./index-DsFsGggn.js";import"./use-form-item-CUGNa-4i.js";import"./constants-Dnj8X3EN.js";import"./index-D1OyjWme.js";import"./config-provider-Bf5G9WCh.js";import"./index-BFuAB0_P.js";const B={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},P=[n("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z",fill:"currentColor"},null,-1)],q=i({name:"DragIndicatorOutlined",render:function(e,t){return o(),r("svg",B,P)}}),G={class:"topsearch-content h-full"},F=(e=>(I("data-v-e860258c"),e=e(),C(),e))((()=>n("p",{class:"d-flex-center",style:{height:"30px","flex-flow":"row"}},[n("i",{class:"d-icon",style:{"font-size":"80px"}},[n("svg",{t:"1679241495117",class:"icon",viewBox:"0 0 2792 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1911",width:"200",height:"200"},[n("path",{d:"M562.874182 698.181818l38.842182-105.937454 79.546181 32.744727 15.150546-109.800727-57.762909-24.087273 44.520727-122.321455h51.130182L688.872727 698.181818h197.957818L907.636364 551.796364l-41.658182 36.584727h-18.013091l-26.577455-306.501818-104.122181-4.584728 19.874909-54.923636L562.641455 162.909091 581.818182 252.253091l-9.472 25.041454h-76.706909l-13.265455 91.485091h56.832l-25.6 71.284364-38.818909-16.384-15.150545 109.800727 17.058909 6.749091L418.909091 698.181818h143.965091z m-269.265455 0c17.873455 0 33.978182-6.260364 48.314182-18.781091a77.730909 77.730909 0 0 0 26.298182-46.708363l13.381818-94.394182 74.612364-13.498182 13.381818-101.12-73.634909 12.520727 7.633454-58.740363h72.704L488.727273 285.952h-71.726546L430.545455 162.909091l-150.318546 59.485091 4.864 59.461818-105.285818 4.096-12.427636 91.508364h90.856727l-12.427637 84.759272-92.788363 16.360728L139.636364 579.723636l91.810909-15.429818L225.745455 607.650909 140.567273 698.181818h153.018182zM512 884.363636l-9.541818-186.181818h-105.425455L349.090909 884.363636h162.909091z m186.181818 0l-62.068363-186.181818H512l10.286545 186.181818H698.181818z m-436.456727 0L325.818182 698.181818H209.454545l-116.363636 186.181818h168.634182zM907.636364 884.363636l-93.090909-186.181818h-93.09091l10.286546 186.181818H907.636364z m197.888 0c17.943273 0 33.722182-6.050909 47.336727-18.199272a71.703273 71.703273 0 0 0 24.133818-44.986182l27.834182-205.847273 31.557818-9.588364 12.986182-100.538181-30.626909 9.588363 16.709818-118.714182h31.557818L1280 305.105455h-32.488727l14.848-108.171637L1114.996364 139.636364l12.823272 84.084363-11.124363 81.384728H1054.487273l-12.986182 90.97309h62.161454l-21.34109 159.883637-64.954182 19.153454-13.917091 99.560728 64.954182-19.130182-19.479273 142.661818L977.454545 884.363636h128.069819z m285.672727 0l80.360727-37.329454L1538.350545 884.363636h248.366546l-200.913455-90.949818 158.789819-73.728 20.340363-143.616h-182.039273l4.840728-35.421091h182.993454L1815.272727 230.4h-165.562182l-10.658909 74.705455h52.293819l-5.818182 36.375272H1633.28l-10.658909 73.704728h53.248l-7.749818 52.666181H1597.44l46.475636-270.941091L1501.090909 139.636364l4.352 90.786909-33.885091 237.451636h-76.474182l6.749091-52.666182h54.225455l10.658909-73.704727h-54.225455l4.840728-34.466909 56.157091-10.542546 9.681454-70.842181-169.425454 20.107636-41.63491 294.865455h189.765819l-4.840728 35.444363h-189.765818l-12.567273 88.087273h358.213819l-1.931637 12.450909-122.973091 60.299636-92.928-53.597091h-143.313454l-4.840727 36.375273 127.813818 72.773818L1186.909091 884.363636h204.288z m643.770182 0l66.094545-480.256h73.541818l13.032728-90.693818h-73.541819l15.825455-116.48L1992.145455 139.636364l15.825454 84.968727-12.101818 88.808727h-74.472727L1908.363636 404.107636h74.472728L1916.741818 884.363636h118.225455z m676.980363-535.272727l10.961455-73.914182h-158.487273l13.032727-50.199272L2373.818182 162.909091l47.104 98.071273-2.001455 14.196363H2268.392727L2257.454545 349.090909h454.493091z m-400.314181 186.181818l6.050909-45.312h267.124363l-6.050909 45.312h125.998546l18.152727-130.024727h-92.741818L2659.397818 349.090909h-124.974545l-30.254546 56.157091h-67.537454L2423.528727 349.090909H2297.483636l13.102546 56.157091H2205.789091L2187.636364 535.272727h123.997091zM1909.899636 861.090909L2001.454545 418.909091h-70.167272L1838.545455 861.090909h71.354181z m241.640728-69.818182L2187.636364 418.909091h-56.040728L2094.545455 791.272727h56.994909z m149.597091 93.090909l71.819636-162.280727h151.528727l-12.8 91.229091-59.997091 62.417455h137.751273c12.450909 0 23.947636-4.189091 34.443636-12.497455 10.472727-8.308364 16.384-18.874182 17.687273-31.674182l26.577455-182.458182h-262.725819l8.86691-19.2h272.546909l12.8-90.298181h-175.150546l7.866182-50.874182h-155.461818l-7.866182 50.897454h-175.150545l-12.8 90.274909h96.442181L2164.363636 884.363636h136.773819z",fill:"#ff4e4e","p-id":"1912"})])])],-1))),J={class:"pl20 pr20"},K={class:"d-layout h-full",style:{height:"calc(100% - 86px)","border-top":"1px solid rgba(var(--alpha-color), 0.04)"}},N={class:"d-layout-aside topsearch-aside pl-2 pr-3",style:{width:"21%","min-width":"110px"}},Q=["onClick"],X={title:"拖动",class:"d-icon f20 mr5 handle"},Z=["title"],Y=["src"],ee={class:"f13 d-pointer topsearch-handle"},te=["onClick"],le=["onClick"],se=["title"],ae=["src"],ie=["title"],oe={class:"d-layout-content mt10 d-auto-y ml20",style:""},re={class:"category-title d-flex-y"},ne=["src"],de={class:"d-cell"},pe={class:"topsearch-body"},me=["onClick","href"],ce={class:"item-index mr10"},he=["title"],ue={class:"f12 ml20 d-sub"},ye={name:"appTopsearch"},fe=d(Object.assign(ye,{setup(i){const d=e(),I=p({keyWord:"",category:"我的订阅",hotType:[],hostList:[],typeId:"",loading:!0,rowData:{},subscribeData:[]}),C=m((()=>[{category:"我的订阅"},{category:"全部"},...t(I.hotType,"category")]));function B(){I.subscribeData.map((e=>({id:e.id,name:e.name}))).forEach(((e,t)=>{d.value.topSearch.splice(t,1,e)}))}const P=(e,t)=>{let l="取消订阅";if("add"==t){if(d.value.topSearch.length>4)return void A.error("最多只能选择5条");d.value.topSearch.push({name:e.name,id:e.id}),l="订阅成功"}else{if(d.value.topSearch.length<2)return void A.error("至少选择1条");let t=d.value.topSearch.findIndex((t=>t.id===e.id));d.value.topSearch.splice(t,1)}A.success(l),ge()},ye=m((()=>d.value.topSearch.map((e=>e.id)))),fe=m((()=>I.keyWord?(I.category="全部",I.hotType.filter((e=>e.name.includes(I.keyWord)))):"全部"!=I.category?I.hotType.filter((e=>e.category==I.category)):I.hotType));c((()=>fe.value),(e=>{e.length&&(I.typeId=e[0].id,I.rowData=e[0],je())}));function ge(){I.subscribeData=ye.value.reduce(((e,t)=>[...e,I.hotType.find((e=>e.id==t))||{}]),[]),"我的订阅"==I.category&&xe(I.subscribeData[0])}async function je(){if(!I.typeId)return;I.loading=!0;let e=`searchTopList_${I.typeId}`,t=await l((()=>import("./indexdb-D6yYQ1E4.js")),__vite__mapDeps([0,1]),import.meta.url);t=t.default;let s=await t.getItem(e);I.hostList=s.data||[],s.data&&(I.loading=!1),s.isExp&&S({id:I.typeId}).then((l=>{let s=l.data||[];s.length&&t.set(e,s,6e5),I.hostList=s})).finally((()=>{I.loading=!1}))}function xe(e){I.rowData=e,I.typeId=e.id,je()}return(async()=>{let e=await l((()=>import("./indexdb-D6yYQ1E4.js")),__vite__mapDeps([0,1]),import.meta.url);e=e.default;let t=await e.getItem("searchTopCategory");I.hotType=t.data||[],ge(),t.isExp&&V().then((t=>{let l=t.data||[];I.hotType=l,l.length&&(e.set("searchTopCategory",l,5184e5),ge())}))})(),(e,t)=>{const l=h("el-icon");return o(),u(T,{height:"600px"},{default:y((()=>[n("div",G,[F,n("div",J,[f(g(H),{onTabClick:t[0]||(t[0]=e=>I.keyWord=""),modelValue:I.category,"onUpdate:modelValue":t[1]||(t[1]=e=>I.category=e)},{default:y((()=>[(o(!0),r(j,null,x(C.value,(e=>(o(),u(g(E),{label:e.category,name:e.category,key:e.key},null,8,["label","name"])))),128))])),_:1},8,["modelValue"])]),n("div",K,[n("div",N,[f(g(O),{modelValue:I.keyWord,"onUpdate:modelValue":t[2]||(t[2]=e=>I.keyWord=e),style:{margin:"5px",width:"90%"},size:"small",placeholder:"搜索",clearable:""},null,8,["modelValue"]),"我的订阅"==I.category?(o(),u(g(M),{key:0,class:"d-left-tabs","component-data":{tag:"ul",name:"flip-list"},list:I.subscribeData,animation:"300",group:"icon-list","item-key":"id",onEnd:B},{item:y((({element:e})=>[n("li",{class:v(["d-left-tabs-item d-flex-between subscribe-item",{active:I.typeId==e.id}]),onClick:t=>xe(e),style:{transition:"0.2s"}},[n("i",X,[f(g(q))]),n("span",{title:e.name,class:"d-elip",style:{width:"102%"}},[n("img",{class:"icon",src:e.icon,alt:""},null,8,Y),b(" "+_(e.name),1)],8,Z),f(g(U),{"popper-class":"topsearch-popper",placement:"bottom",width:90,trigger:"hover"},{reference:y((()=>[f(l,{title:"订阅在小组件上显示",class:"tabs-item-select"},{default:y((()=>[f(g(s))])),_:1})])),default:y((()=>[n("ul",ee,[n("li",{onClick:L((t=>P(e,"del")),["stop"])},"删除",8,te)])])),_:2},1024)],10,Q)])),_:1},8,["list"])):(o(),u(w,{key:1,name:"flip-list",tag:"ul",class:"d-left-tabs"},{default:y((()=>[(o(!0),r(j,null,x(fe.value,(e=>(o(),r("li",{class:v(["d-left-tabs-item d-flex-between",{active:I.typeId==e.id}]),onClick:t=>xe(e),key:e.id},[n("span",{title:e.name,class:"d-elip",style:{width:"102%"}},[n("img",{class:"icon",src:e.icon,alt:""},null,8,ae),b(" "+_(e.name),1)],8,se),k(n("i",{title:(ye.value.includes(e.id)?"取消":"")+"订阅",class:"d-icon tabs-item-select f14"},[ye.value.includes(e.id)?(o(),u(g($),{key:1,onClick:L((t=>P(e,"del")),["stop"])},null,8,["onClick"])):(o(),u(g(R),{key:0,onClick:L((t=>P(e,"add")),["stop"])},null,8,["onClick"]))],8,ie),[[z,ye.value.includes(e.id)]])],10,le)))),128))])),_:1}))]),n("div",oe,[n("h2",re,[n("img",{src:I.rowData.icon,alt:""},null,8,ne),n("span",de,_(I.rowData.name)+" ‧ "+_(I.rowData.type),1),f(l,{class:"mr20 d-sub",size:"16",title:"本热搜榜单所陈列的热点信息采集自于互联网，我们不对数据源做任何处理，服务器也不会存储任何数据, 链接均跳转至原始网页地址访问. 如果侵犯您的权益,请与我联系,我会尽快处理。同时请大家自行甄别信息真伪,原始网站信息不代表本人及本产品观点.谢谢大家支持."},{default:y((()=>[f(g(a))])),_:1})]),n("ul",pe,[f(g(D),{loading:I.loading,rows:3,count:1,animated:""},{default:y((()=>[(o(!0),r(j,null,x(I.hostList,((e,t)=>(o(),r("a",{onClick:t=>(e=>{let t=I.hotType.find((e=>e.id==I.typeId));W({type:"热搜榜",en:`${t.name}-${e.index}`})})(e),class:"topsearch-item d-flex-y",href:e.link,key:t,target:"_blank"},[n("span",ce,_(e.index),1),n("span",{class:"d-felx d-cell d-elip",title:e.title},_(e.title),9,he),n("em",ue,_(e.hotValue),1)],8,me)))),128))])),_:1},8,["loading"])])])])])])),_:1})}}}),[["__scopeId","data-v-e860258c"]]);export{fe as default};
