import{_ as e}from"./d-dialog-Dp99XzOL.js";/* empty css            */import{a,b as l,E as t}from"./el-main-D1CV8PRo.js";/* empty css                 */import{c as s,a as o,E as n}from"./el-select-D9newx6z.js";import"./el-scrollbar-BVpSQI8U.js";/* empty css                  */import{E as i}from"./el-input-number-BQjjWXj_.js";import"./el-tooltip-l0sNRNKZ.js";import{aJ as r,r as u,w as p}from"./todo-nv2WtoEp.js";import{m as d,aB as m,c,a as f,p as v,q as b,t as g,z as j,u as h,B as x,I as k,J as y,k as w,aY as _,K as V,_ as S,F as I,y as C,s as E,aV as A,b3 as z,H as O,L as U,E as R,a_ as T,aX as D,G as H,aL as L,av as B}from"./index-CyyLRP8W.js";import{_ as M}from"./d-font-family-BPMmhsDQ.js";import{D as W}from"./d-color-BJTG3bLp.js";import{i as P,w as q}from"./widget-icon-item-0vMohExH.js";import{I as F,d as K}from"./main-DJB5iAKQ.js";import{a as Y}from"./addToDesk-DmqESsHa.js";import{b as G}from"./bg-select-CHfQB7er.js";import{E as J}from"./index-BPnMED6p.js";import{d as Q}from"./localforage-BVRgvwJc.js";import{t as $,u as N,T as X,a as Z,b as ee,c as ae,d as le,e as te,D as se,C as oe}from"./panel-time-pick-BONONaLY.js";import{b as ne,d as ie,u as re}from"./index-B3sKL47p.js";import{_ as ue}from"./plugin-vue_export-helper-O3gUY6pX.js";import{u as pe}from"./index-CXKOYI6o.js";import{E as de}from"./aria-BUADUvnR.js";import{b as me}from"./hasIn-y6DbaUwA.js";import{b as ce}from"./_isIterateeCall-BHzR5BhQ.js";import{s as fe,S as ve,c as be}from"./_baseIsEqual-DN6o0BQy.js";import{E as ge}from"./index-D1OyjWme.js";import"./el-dialog-BoL22f5R.js";import"./index-CdRnR6wp.js";import"./scroll-3JEGyj3w.js";import"./style-BBQwFGbP.js";import"./types-Ci7ev57k.js";import"./vnode-CwyaGvUL.js";import"./index-D4GlTUBi.js";import"./use-dialog-0gmd-idO.js";import"./icon-Dsqoi_oS.js";import"./event-BwRzfsZt.js";import"./index-CB1eEFAV.js";import"./_baseGet-DEcaJYAt.js";import"./isSymbol-Bt1TyP4H.js";import"./focus-trap-D8QWET1-.js";import"./use-global-config-DcVlDyFX.js";import"./isUndefined-DgmxjSXK.js";import"./index-hc1PwDik.js";import"./index-DjlyN6je.js";/* empty css                   */import"./getAudio-D_HGGnT2.js";/* empty css                                                 */import"./use-form-item-CUGNa-4i.js";import"./constants-Dnj8X3EN.js";import"./strings-B8lWsWjR.js";import"./isEqual-DOZxeYFr.js";import"./index-BrMlOSMZ.js";import"./index-BFuAB0_P.js";import"./debounce-Dd9nEzpy.js";import"./_baseIteratee-BaNfRxc9.js";import"./index-kxe6IHwf.js";import"./index-DHV32PmZ.js";import"./castArray-LUE-lsy0.js";import"./index-Cdhz-ASE.js";/* empty css                                                   *//* empty css                  */import"./vue.runtime.esm-bundler-Ds1RV6_Q.js";import"./index-BvBbK8nS.js";import"./position-C03YnYn2.js";import"./_baseFor-BgUEIYfv.js";import"./modulepreload-polyfill-Dqv5PPZA.js";import"./d-slider-CwQMvsWi.js";import"./el-slider-C2p3lAn_.js";import"./save_config-BtHImbsT.js";import"./public-api-DxRCcbRs.js";import"./baseRequest-CU9cTnaC.js";import"./userInfo-CZAB7rZN.js";import"./version-DYnJBHiW.js";import"./website-CoEF8fmW.js";import"./index-DvjFJXYU.js";import"./indexdb-D6yYQ1E4.js";import"./eventBus-BB4cUTPt.js";import"./d-scroll-x-DmrxoDz6.js";import"./typescript-CRqm1_SZ.js";import"./index-DsFsGggn.js";function je(e){return e!=e}function he(e,a){return!!(null==e?0:e.length)&&function(e,a,l){return a==a?function(e,a,l){for(var t=l-1,s=e.length;++t<s;)if(e[t]===a)return t;return-1}(e,a,l):s(e,je,l)}(e,a,0)>-1}function xe(e,a,l){for(var t=-1,s=null==e?0:e.length;++t<s;)if(l(a,e[t]))return!0;return!1}var ke=r&&1/fe(new r([,-0]))[1]==1/0?function(e){return new r(e)}:function(){};var ye=ce((function(e){return function(e,a,l){var t=-1,s=he,o=e.length,n=!0,i=[],r=i;if(l)n=!1,s=xe;else if(o>=200){var u=a?null:ke(e);if(u)return fe(u);n=!1,s=be,r=new ve}else r=a?[]:i;e:for(;++t<o;){var p=e[t],d=a?a(p):p;if(p=l||0!==p?p:0,n&&d==d){for(var m=r.length;m--;)if(r[m]===d)continue e;a&&r.push(d),i.push(p)}else s(r,d,l)||(r!==i&&r.push(d),i.push(p))}return i}(me(e,1,P,!0))}));const we=ne({...$,parsedValue:{type:ie(Array)}}),_e=["disabled"];var Ve=ue(d({__name:"panel-time-range",props:we,emits:["pick","select-range","set-picker-option"],setup(e,{emit:a}){const l=e,t=(e,a)=>{const l=[];for(let t=e;t<=a;t++)l.push(t);return l},{t:s,lang:o}=pe(),n=re("time"),i=re("picker"),r=m("EP_PICKER_BASE"),{arrowControl:u,disabledHours:p,disabledMinutes:d,disabledSeconds:_,defaultValue:V}=r.props,S=c((()=>[n.be("range-picker","body"),n.be("panel","content"),n.is("arrow",u),z.value?"has-seconds":""])),I=c((()=>[n.be("range-picker","body"),n.be("panel","content"),n.is("arrow",u),z.value?"has-seconds":""])),C=c((()=>l.parsedValue[0])),E=c((()=>l.parsedValue[1])),A=N(l),z=c((()=>l.format.includes("ss"))),O=c((()=>l.format.includes("A")?"A":l.format.includes("a")?"a":"")),U=e=>{T(e.millisecond(0),E.value)},R=e=>{T(C.value,e.millisecond(0))},T=(e,l)=>{a("pick",[e,l],!0)},D=c((()=>C.value>E.value)),H=f([0,2]),L=(e,l)=>{a("select-range",e,l,"min"),H.value=[e,l]},B=c((()=>z.value?11:8)),M=(e,l)=>{a("select-range",e,l,"max");const t=h(B);H.value=[e+t,l+t]},W=(e,a)=>{const l=p?p(e):[],s="start"===e,o=(a||(s?E.value:C.value)).hour(),n=s?t(o+1,23):t(0,o-1);return ye(l,n)},P=(e,a,l)=>{const s=d?d(e,a):[],o="start"===a,n=l||(o?E.value:C.value);if(e!==n.hour())return s;const i=n.minute(),r=o?t(i+1,59):t(0,i-1);return ye(s,r)},q=(e,a,l,s)=>{const o=_?_(e,a,l):[],n="start"===l,i=s||(n?E.value:C.value),r=i.hour(),u=i.minute();if(e!==r||a!==u)return o;const p=i.second(),d=n?t(p+1,59):t(0,p-1);return ye(o,d)},F=([e,a])=>[$(e,"start",!0,a),$(a,"end",!1,e)],{getAvailableHours:K,getAvailableMinutes:Y,getAvailableSeconds:G}=ee(W,P,q),{timePickerOptions:J,getAvailableTime:$,onSetOption:ae}=Z({getAvailableHours:K,getAvailableMinutes:Y,getAvailableSeconds:G});return a("set-picker-option",["formatToString",e=>e?w(e)?e.map((e=>e.format(l.format))):e.format(l.format):null]),a("set-picker-option",["parseUserInput",e=>e?w(e)?e.map((e=>Q(e,l.format).locale(o.value))):Q(e,l.format).locale(o.value):null]),a("set-picker-option",["isValidValue",e=>{const a=e.map((e=>Q(e).locale(o.value))),l=F(a);return a[0].isSame(l[0])&&a[1].isSame(l[1])}]),a("set-picker-option",["handleKeydownInput",e=>{const a=e.code,{left:l,right:t,up:s,down:o}=de;if([l,t].includes(a)){return(e=>{const a=z.value?[0,3,6,11,14,17]:[0,3,8,11],l=["hours","minutes"].concat(z.value?["seconds"]:[]),t=(a.indexOf(H.value[0])+e+a.length)%a.length,s=a.length/2;t<s?J.start_emitSelectRange(l[t]):J.end_emitSelectRange(l[t-s])})(a===l?-1:1),void e.preventDefault()}if([s,o].includes(a)){const l=a===s?-1:1,t=H.value[0]<B.value?"start":"end";return J[`${t}_scrollDown`](l),void e.preventDefault()}}]),a("set-picker-option",["getDefaultValue",()=>{if(w(V))return V.map((e=>Q(e).locale(o.value)));const e=Q(V).locale(o.value);return[e,e.add(60,"m")]}]),a("set-picker-option",["getRangeAvailableTime",F]),(e,l)=>e.actualVisible?(v(),b("div",{key:0,class:j([h(n).b("range-picker"),h(i).b("panel")])},[g("div",{class:j(h(n).be("range-picker","content"))},[g("div",{class:j(h(n).be("range-picker","cell"))},[g("div",{class:j(h(n).be("range-picker","header"))},x(h(s)("el.datepicker.startTime")),3),g("div",{class:j(h(S))},[k(X,{ref:"minSpinner",role:"start","show-seconds":h(z),"am-pm-mode":h(O),"arrow-control":h(u),"spinner-date":h(C),"disabled-hours":W,"disabled-minutes":P,"disabled-seconds":q,onChange:U,onSetOption:h(ae),onSelectRange:L},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),g("div",{class:j(h(n).be("range-picker","cell"))},[g("div",{class:j(h(n).be("range-picker","header"))},x(h(s)("el.datepicker.endTime")),3),g("div",{class:j(h(I))},[k(X,{ref:"maxSpinner",role:"end","show-seconds":h(z),"am-pm-mode":h(O),"arrow-control":h(u),"spinner-date":h(E),"disabled-hours":W,"disabled-minutes":P,"disabled-seconds":q,onChange:R,onSetOption:h(ae),onSelectRange:M},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),g("div",{class:j(h(n).be("panel","footer"))},[g("button",{type:"button",class:j([h(n).be("panel","btn"),"cancel"]),onClick:l[0]||(l[0]=e=>{a("pick",A.value,!1)})},x(h(s)("el.datepicker.cancel")),3),g("button",{type:"button",class:j([h(n).be("panel","btn"),"confirm"]),disabled:h(D),onClick:l[1]||(l[1]=e=>((e=!1)=>{a("pick",[C.value,E.value],e)})())},x(h(s)("el.datepicker.confirm")),11,_e)],2)],2)):y("v-if",!0)}}),[["__file","panel-time-range.vue"]]);Q.extend(ae);const Se=d({name:"ElTimePicker",install:null,props:{...le,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,a){const l=f(),[t,s]=e.isRange?["timerange",Ve]:["time",te],o=e=>a.emit("update:modelValue",e);return _("ElPopperOptions",e.popperOptions),a.expose({focus:e=>{var a;null==(a=l.value)||a.handleFocusInput(e)},blur:e=>{var a;null==(a=l.value)||a.handleBlurInput(e)},handleOpen:()=>{var e;null==(e=l.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=l.value)||e.handleClose()}}),()=>{var a;const n=null!=(a=e.format)?a:se;return k(oe,V(e,{ref:l,type:t,format:n,"onUpdate:modelValue":o}),{default:e=>k(s,e,null)})}}});Se.install=e=>{e.component(Se.name,Se)};const Ie=Se,Ce={class:"d-checkbox-group"},Ee=["checked","value","name"],Ae={class:"d-checkbox-label relative z-0"},ze=S({__name:"d-checkbox",props:{modelValue:{type:Array,default:[]},name:String,data:{type:Array,default:[]}},emits:["update:modelValue"],setup(e,{emit:a}){const l=a,t=e;function s(e){let a=e.target.value,s=[...t.modelValue];if(e.target.checked)s=[...t.modelValue,a];else{let e=t.modelValue.findIndex((e=>e==a));s.splice(e,1)}l("update:modelValue",s)}return(a,l)=>(v(),b("ul",Ce,[(v(!0),b(I,null,C(e.data,(a=>(v(),b("li",{class:"d-checkbox inline-block relative",key:a.value},[g("input",{onInput:s,checked:e.modelValue.includes(a.value.toString()),class:"d-checkbox-input w-full h-full absolute opacity-0 left-0 right-0",type:"checkbox",value:a.value,name:e.name},null,40,Ee),g("label",Ae,x(a.label),1)])))),128))]))}},[["__scopeId","data-v-2c10177b"]]),Oe=e=>(T("data-v-bd5e3efc"),e=e(),D(),e),Ue={class:"h-full countdown-wrap"},Re={class:"setting-ul d-auto-y",style:{height:"calc(100% - 74px)"}},Te={class:"setting-panel d-flex-between"},De=Oe((()=>g("span",null,"组件名称",-1))),He={class:"setting-panel d-flex-between"},Le=Oe((()=>g("span",{class:"title"},"工作日",-1))),Be={class:"setting-panel d-flex-between"},Me=Oe((()=>g("span",{class:"title"},"工作时间",-1))),We={style:{width:"200px"}},Pe={class:"setting-panel"},qe={class:"setting-panel mt10"},Fe={class:"setting-panel d-flex-between"},Ke={class:"title"},Ye={class:"d-icon f16 d-sub",style:{"vertical-align":"-3px"}},Ge={key:0,class:"setting-panel d-flex-between"},Je=Oe((()=>g("span",{class:"title"},"发薪日",-1))),Qe={style:{width:"100px"},class:"ar f12"},$e={key:1,class:"setting-panel d-flex-between"},Ne=Oe((()=>g("span",{class:"title"},"每天的收入",-1))),Xe={class:"ar f12"},Ze={name:"appContent"},ea=S(Object.assign(Ze,{props:{row:{type:Object,default:()=>{}},isEdit:Boolean,size:String},setup(e){const s=e,r=E(s.row.size||"2x4");s.isEdit&&!s.row.config&&(s.row.config=F),s.row.config.moreList||(s.row.config.moreList=["1","2","3","4"]);const d=f(u(s.row.config||F));function m(e){let a=e.target.value;if(e.target.checked)if("8"==a)d.value.repeatWeek=["8"];else{let e=d.value.repeatWeek.findIndex((e=>"8"==e));-1!=e&&d.value.repeatWeek.splice(e,1)}else"8"==a&&(d.value.repeatWeek=["1","2","3","4","5"])}function c(){if(s.isEdit)for(let e in d.value)s.row.config[e]=d.value[e]||"";else{let e={component:"countdown",name:"倒计时",size:r.value,type:"component",config:R(d.value)};Y(e)}K.visible=!1}function j(e,a){a&&(d.value.textColor=a)}let w=null;return w&&clearInterval(w),w=setInterval((()=>{}),1e3),A((()=>{clearInterval(w)})),(s,u)=>{const f=z("d-button");return v(),b("div",Ue,[k(h(t),{class:"h-full"},{default:O((()=>[k(h(a),{style:{"background-color":"var(--bg-card)"},width:"420px"},{default:O((()=>[k(q,{data:d.value,style:{"margin-top":"120px","--icon-padding":"30px","--icon-size":"60px"},initSize:r.value,"onUpdate:initSize":u[0]||(u[0]=e=>r.value=e),row:{component:"countdown",size:"2x4",type:"component"}},null,8,["data","initSize"])])),_:1}),k(h(l),{style:{"background-color":"var(--bg-body)"}},{default:O((()=>[g("ul",Re,[g("li",Te,[De,k(h(J),{style:{width:"200px"},maxlength:"20",size:"small",placeholder:"自定义图标名称",modelValue:d.value.name,"onUpdate:modelValue":u[1]||(u[1]=e=>d.value.name=e)},null,8,["modelValue"])]),g("li",He,[Le,k(ze,{style:{"--margin":"0 8px 0 0","--width":"30px",height:"32px"},modelValue:d.value.repeatWeek,"onUpdate:modelValue":u[2]||(u[2]=e=>d.value.repeatWeek=e),onChange:m,name:"week",class:"f12",data:[{label:"周一",value:"1"},{label:"周二",value:"2"},{label:"周三",value:"3"},{label:"周四",value:"4"},{label:"周五",value:"5"},{label:"周六",value:"6"},{label:"周日",value:"0"},{label:"工作日",value:"8"}]},null,8,["modelValue"])]),g("li",Be,[Me,g("div",We,[k(h(Ie),{style:{"--el-fill-color-blank":"var(--bg-input)","--el-border-color":"transparent","--el-date-editor-width":"200px"},size:"small",modelValue:d.value.workTime,"onUpdate:modelValue":u[3]||(u[3]=e=>d.value.workTime=e),"is-range":"","range-separator":"至","start-placeholder":"上班","end-placeholder":"下班",clearable:!1,format:"HH:mm","value-format":"YYYY-MM-DD HH:mm"},null,8,["modelValue"])])]),g("li",Pe,[k(W,{title:"字体颜色",colors:["#ffffff","#333333","#9de5fe","#b8ceff","#efabc4","#daccfd","#fceaba","#f4f7ca","#d0eabb"],modelValue:d.value.textColor,"onUpdate:modelValue":u[4]||(u[4]=e=>d.value.textColor=e)},null,8,["modelValue"])]),k(G,{onChange:j,modelValue:d.value,"onUpdate:modelValue":u[5]||(u[5]=e=>d.value=e)},null,8,["modelValue"]),g("li",qe,[k(M,{title:"字体",modelValue:d.value.family,"onUpdate:modelValue":u[6]||(u[6]=e=>d.value.family=e)},null,8,["modelValue"])]),g("li",Fe,[g("span",Ke,[U(" 显示更多 "),g("i",Ye,[k(h(ge),{effect:"dark",content:"发薪日只有在2x4组件模式下才可用"},{default:O((()=>[k(h(p))])),_:1})])]),k(ze,{style:{"--margin":"0 8px 0 0","--width":"30px",height:"32px"},modelValue:d.value.moreList,"onUpdate:modelValue":u[7]||(u[7]=e=>d.value.moreList=e),onChange:m,name:"week",class:"f12",data:[{label:"发薪日",value:"1"},{label:"距离周五",value:"2"},{label:"下一个节日",value:"3"},{label:"今天收入",value:"4"}]},null,8,["modelValue"])]),d.value.moreList.includes("1")?(v(),b("li",Ge,[Je,g("div",Qe,[U(" 每月 "),k(h(o),{size:"small",style:{width:"50px"},modelValue:d.value.target,"onUpdate:modelValue":u[8]||(u[8]=e=>d.value.target=e),clearable:!1},{default:O((()=>[(v(),b(I,null,C(31,(e=>k(h(n),{label:e,value:e,key:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"]),U("日 ")])])):y("",!0),d.value.moreList.includes("4")?(v(),b("li",$e,[Ne,g("div",Xe,[k(h(i),{min:0,size:"small",modelValue:d.value.dayMoney,"onUpdate:modelValue":u[9]||(u[9]=e=>d.value.dayMoney=e),placeholder:"每天的收入"},null,8,["modelValue"])])])):y("",!0)]),k(f,{size:"default",class:"w-full mt20",onClick:c,round:"",type:"primary"},{default:O((()=>[U(x(e.isEdit?"完 成":"添 加"),1)])),_:1})])),_:1})])),_:1})])}}}),[["__scopeId","data-v-bd5e3efc"]]),aa={__name:"index",setup:a=>(a,l)=>(v(),H(e,{width:"900px",height:"550px",destroyOnClose:!0},{default:O((()=>[k(ea,L(B(a.$attrs)),null,16)])),_:1}))};export{aa as default};
