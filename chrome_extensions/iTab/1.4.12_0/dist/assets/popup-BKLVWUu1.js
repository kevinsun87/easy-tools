const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./css-vars-DFEtZ-6b.css"])))=>i.map(i=>d[i]);
import"./modulepreload-polyfill-Dqv5PPZA.js";import{aC as e,w as s,e as o,f as t,m as l,n as i,ak as r,aD as a,aE as n,q as c,r as p,_ as m}from"./todo-nv2WtoEp.js";import{m as u,p as d,q as f,t as b,c as x,A as j,u as v,G as g,z as w,b5 as h,J as y,B as k,_ as C,w as _,b0 as V,o as I,H as T,I as S,F as z,y as A,C as E,L as H,bH as U,aa as $}from"./index-CyyLRP8W.js";/* empty css            *//* empty css                 */import{a as q,E as L}from"./el-select-D9newx6z.js";import"./el-scrollbar-BVpSQI8U.js";/* empty css                  */import{E as R}from"./el-form-item-Bc1ZcHOk.js";/* empty css                  */import{D as B}from"./d-color-BJTG3bLp.js";import{SAVE_CONFIG as M}from"./save_config-BtHImbsT.js";import{w as F}from"./website-CoEF8fmW.js";import{a as D}from"./baseRequest-CU9cTnaC.js";import{E as G}from"./index-BPnMED6p.js";import{ElIcon as J}from"./index-D4GlTUBi.js";import{E as O}from"./index-BvBbK8nS.js";import{b as P,u as W}from"./index-B3sKL47p.js";import{_ as K,w as N}from"./plugin-vue_export-helper-O3gUY6pX.js";import"./index-D1OyjWme.js";import"./types-Ci7ev57k.js";import"./index-kxe6IHwf.js";import"./_baseGet-DEcaJYAt.js";import"./isSymbol-Bt1TyP4H.js";import"./index-CB1eEFAV.js";import"./hasIn-y6DbaUwA.js";import"./aria-BUADUvnR.js";import"./index-BrMlOSMZ.js";import"./focus-trap-D8QWET1-.js";import"./isUndefined-DgmxjSXK.js";import"./constants-Dnj8X3EN.js";import"./use-global-config-DcVlDyFX.js";import"./index-CXKOYI6o.js";import"./use-form-item-CUGNa-4i.js";import"./strings-B8lWsWjR.js";import"./isEqual-DOZxeYFr.js";import"./_baseIsEqual-DN6o0BQy.js";import"./index-BFuAB0_P.js";import"./icon-Dsqoi_oS.js";import"./scroll-3JEGyj3w.js";import"./style-BBQwFGbP.js";import"./event-BwRzfsZt.js";import"./debounce-Dd9nEzpy.js";import"./_baseIteratee-BaNfRxc9.js";import"./index-DHV32PmZ.js";import"./castArray-LUE-lsy0.js";import"./vue.runtime.esm-bundler-Ds1RV6_Q.js";import"./localforage-BVRgvwJc.js";import"./position-C03YnYn2.js";import"./index-DjlyN6je.js";import"./public-api-DxRCcbRs.js";import"./index-DvjFJXYU.js";import"./indexdb-D6yYQ1E4.js";import"./eventBus-BB4cUTPt.js";import"./userInfo-CZAB7rZN.js";import"./version-DYnJBHiW.js";import"./typescript-CRqm1_SZ.js";import"./index-DsFsGggn.js";const Q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},X=[b("path",{d:"M20 20H4c-1.1 0-2 .9-2 2s.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2zM7.11 17c.48 0 .91-.3 1.06-.75l1.01-2.83h5.65l.99 2.82c.16.46.59.76 1.07.76c.79 0 1.33-.79 1.05-1.52L13.69 4.17C13.43 3.47 12.75 3 12 3s-1.43.47-1.69 1.17L6.06 15.48c-.28.73.27 1.52 1.05 1.52zm4.83-11.4h.12l2.03 5.79H9.91l2.03-5.79z",fill:"currentColor"},null,-1)],Y=u({name:"FormatColorTextRound",render:function(e,s){return d(),f("svg",Q,X)}}),Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ee=[b("path",{d:"M17 7h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.65 0 3 1.35 3 3s-1.35 3-3 3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-9 5c0 .55.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1zm2 3H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h3c.55 0 1-.45 1-1s-.45-1-1-1H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h3c.55 0 1-.45 1-1s-.45-1-1-1z",fill:"currentColor"},null,-1)],se=u({name:"LinkRound",render:function(e,s){return d(),f("svg",Z,ee)}}),oe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},te=[b("path",{d:"M5 5.5C5 6.33 5.67 7 6.5 7h4v10.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V7h4c.83 0 1.5-.67 1.5-1.5S18.33 4 17.5 4h-11C5.67 4 5 4.67 5 5.5z",fill:"currentColor"},null,-1)],le=u({name:"TitleRound",render:function(e,s){return d(),f("svg",oe,te)}}),ie={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},re={[ie.success]:e,[ie.warning]:s,[ie.error]:o,[ie.info]:t},ae=P({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),ne=u({name:"ElResult"});const ce=N(K(u({...ne,props:ae,setup(e){const s=e,o=W("result"),t=x((()=>{const e=s.icon,o=e&&ie[e]?ie[e]:"icon-info";return{class:o,component:re[o]||re["icon-info"]}}));return(e,s)=>(d(),f("div",{class:w(v(o).b())},[b("div",{class:w(v(o).e("icon"))},[j(e.$slots,"icon",{},(()=>[v(t).component?(d(),g(h(v(t).component),{key:0,class:w(v(t).class)},null,8,["class"])):y("v-if",!0)]))],2),e.title||e.$slots.title?(d(),f("div",{key:0,class:w(v(o).e("title"))},[j(e.$slots,"title",{},(()=>[b("p",null,k(e.title),1)]))],2)):y("v-if",!0),e.subTitle||e.$slots["sub-title"]?(d(),f("div",{key:1,class:w(v(o).e("subtitle"))},[j(e.$slots,"sub-title",{},(()=>[b("p",null,k(e.subTitle),1)]))],2)):y("v-if",!0),e.$slots.extra?(d(),f("div",{key:2,class:w(v(o).e("extra"))},[j(e.$slots,"extra")],2)):y("v-if",!0)],2))}}),[["__file","result.vue"]])),pe={class:"popup-body",style:{"--el-border-radius-base":"8px","--el-fill-color-blank":"var(--bg-input)","--el-border-color":"transparent"}},me={class:"relative mb-4 f12"},ue={class:"icon-preview mb10 w-full"},de={class:"icon-preview-body"},fe=["src"],be=C({__name:"popup",setup(e){const s=l();_((()=>s.value.theme.mode),(e=>{document.querySelector("html").setAttribute("class",e)}),{immediate:!0});const o=["#1681ff","#fbbe23","#fc4548","#4b3c36","#7dac68","#023373","#c8ac70","#372128","#a3ddb9","transparent"];D.defaults.timeout=1e3;const t=V({navConfig:i.get("navConfig")||[],menuActiveId:"1",addSuccess:!1}),m=V({type:"",id:"",url:"",name:"",src:"",type:"text",iconText:"A",backgroundColor:r(o)});return I((()=>{chrome.tabs&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},(async function(e){let s=e[0].url,t=e[0].favIconUrl;s&&(m.url=s.slice(0,160));let l=e[0].title||"";m.name=l.slice(0,18),F({url:s,favIconUrl:t}).then((e=>{let s=e.data||{};s.src?(m.backgroundColor=s.backgroundColor,m.type="icon",m.src=s.src):(m.backgroundColor=r(o),m.type="text",m.iconText=m.name.substring(0,3))})).catch((()=>{m.type="text",m.iconText=m.name.substring(0,3),m.backgroundColor=r(o)}))}))})),(e,s)=>(d(),f("div",pe,[t.addSuccess?(d(),g(v(ce),{key:1,icon:"success",title:"添加成功"})):(d(),g(v(R),{key:0,onSubmit:s[6]||(s[6]=U((()=>{}),["prevent"])),model:m,size:"default","label-position":"left"},{default:T((()=>[S(v(G),{class:"mb-4","prefix-icon":v(se),maxlength:"160",autofocus:"",modelValue:m.url,"onUpdate:modelValue":s[0]||(s[0]=e=>m.url=e),placeholder:"https://"},null,8,["prefix-icon","modelValue"]),S(v(G),{class:"mb-4","prefix-icon":v(le),modelValue:m.name,"onUpdate:modelValue":s[1]||(s[1]=e=>m.name=e),maxlength:"30",placeholder:"网站名称"},null,8,["prefix-icon","modelValue"]),b("div",me,[S(v(J),{class:"z-10",style:{position:"absolute",color:"var(--el-text-color-placeholder)",left:"12px",top:"10px"}},{default:T((()=>[S(v(a))])),_:1}),S(v(q),{"popper-class":"popup-group-select",modelValue:t.menuActiveId,"onUpdate:modelValue":s[2]||(s[2]=e=>t.menuActiveId=e)},{default:T((()=>[(d(!0),f(z,null,A(t.navConfig,(e=>(d(),g(v(L),{key:e.id,value:e.id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])]),b("div",ue,[b("div",de,["icon"==m.type?(d(),f("img",{key:0,class:"icon-preview-img",style:E(`background-color:${m.backgroundColor}`),src:m.src},null,12,fe)):(d(),g(n,{key:1,bgColor:m.backgroundColor,text:m.iconText},null,8,["bgColor","text"]))])]),S(v(G),{"prefix-icon":v(Y),placeholder:"请输入图标文字",maxlength:"6",modelValue:m.iconText,"onUpdate:modelValue":s[3]||(s[3]=e=>m.iconText=e)},null,8,["prefix-icon","modelValue"]),S(B,{class:"mb-4 mt-4",colors:["#1681ff","#fbbe23","#fc4548","#4b3c36","#7dac68","#023373","#c8ac70","#372128","#a3ddb9","transparent"],modelValue:m.backgroundColor,"onUpdate:modelValue":s[4]||(s[4]=e=>m.backgroundColor=e)},null,8,["modelValue"]),S(v(O),{class:"w-full",disabled:t.addSuccess,type:"primary",onClick:s[5]||(s[5]=e=>(m.id=c(),t.navConfig.find((e=>t.menuActiveId===e.id)).children.push(p(m)),i.set("navConfig",t.navConfig),M("navConfig",800),t.addSuccess=!0,void setTimeout((()=>{window.close()}),1e3)))},{default:T((()=>[H(k(t.addSuccess?"添加成功":"确 定"),1)])),_:1},8,["disabled"])])),_:1},8,["model"]))]))}},[["__scopeId","data-v-80aa5eb2"]]),xe=$({__name:"App",setup:e=>(e,s)=>(d(),g(be))});m((()=>Promise.resolve({})),__vite__mapDeps([0]),import.meta.url),xe.mount("#popup");
