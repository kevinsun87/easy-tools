import{_ as e}from"./d-dialog-Dp99XzOL.js";import{m as t,p as s,q as l,t as o,_ as a,s as i,bb as n,w as r,E as u,f as m,o as p,aV as c,I as d,u as v,bH as x,L as f,B as j,J as y,H as g,v as b,by as w,F as h,y as k,z as _,G as V,a_ as C,aX as z}from"./index-CyyLRP8W.js";import{o as I,b as L,D as U}from"./main-DJB5iAKQ.js";import"./localforage-BVRgvwJc.js";import{D as M}from"./d-switch-C2CzPumP.js";/* empty css            */import{E as B}from"./el-drawer-B1dHlnyz.js";/* empty css                   */import{E as H}from"./el-slider-C2p3lAn_.js";/* empty css                 */import"./el-input-number-BQjjWXj_.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import"./css-D3Kd0WPg.js";import{D as R}from"./d-tabs-x-fZyCMJeT.js";import{knckClick as S}from"./event-nv_00sco.js";import $ from"./indexdb-D6yYQ1E4.js";import A from"./eventBus-BB4cUTPt.js";import{d as D}from"./debounce-Dd9nEzpy.js";import{ElMessage as E}from"./index-BU0epQJo.js";import"./todo-nv2WtoEp.js";import"./el-dialog-BoL22f5R.js";import"./index-CdRnR6wp.js";import"./index-B3sKL47p.js";import"./scroll-3JEGyj3w.js";import"./style-BBQwFGbP.js";import"./types-Ci7ev57k.js";import"./vnode-CwyaGvUL.js";import"./index-D4GlTUBi.js";import"./plugin-vue_export-helper-O3gUY6pX.js";import"./use-dialog-0gmd-idO.js";import"./icon-Dsqoi_oS.js";import"./event-BwRzfsZt.js";import"./index-CB1eEFAV.js";import"./_baseGet-DEcaJYAt.js";import"./isSymbol-Bt1TyP4H.js";import"./focus-trap-D8QWET1-.js";import"./aria-BUADUvnR.js";import"./use-global-config-DcVlDyFX.js";import"./index-CXKOYI6o.js";import"./isUndefined-DgmxjSXK.js";import"./index-hc1PwDik.js";import"./index-DjlyN6je.js";import"./getAudio-D_HGGnT2.js";/* empty css                                                 */import"./modulepreload-polyfill-Dqv5PPZA.js";import"./el-switch-BxcHENnS.js";import"./validator-DvohupZ1.js";import"./index-kxe6IHwf.js";import"./hasIn-y6DbaUwA.js";import"./use-form-item-CUGNa-4i.js";import"./constants-Dnj8X3EN.js";import"./save_config-BtHImbsT.js";import"./public-api-DxRCcbRs.js";import"./baseRequest-CU9cTnaC.js";import"./userInfo-CZAB7rZN.js";import"./version-DYnJBHiW.js";import"./website-CoEF8fmW.js";import"./index-DvjFJXYU.js";import"./index-D1OyjWme.js";import"./index-BrMlOSMZ.js";import"./index-BPnMED6p.js";import"./typescript-CRqm1_SZ.js";import"./index-DsFsGggn.js";import"./index-Cdhz-ASE.js";import"./config-provider-Bf5G9WCh.js";import"./index-BFuAB0_P.js";const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},T=[o("path",{d:"M12 5v8.55c-.94-.54-2.1-.75-3.33-.32c-1.34.48-2.37 1.67-2.61 3.07a4.007 4.007 0 0 0 4.59 4.65c1.96-.31 3.35-2.11 3.35-4.1V7h2c1.1 0 2-.9 2-2s-.9-2-2-2h-2c-1.1 0-2 .9-2 2z",fill:"currentColor"},null,-1)],q=t({name:"AudiotrackRound",render:function(e,t){return s(),l("svg",O,T)}}),G={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"},J=[o("g",null,[o("path",{d:"M256,388c-72.597,0-132-59.405-132-132c0-72.601,59.403-132,132-132c36.3,0,69.299,15.4,92.406,39.601L278,234h154V80\r\n\t\tl-51.698,51.702C348.406,99.798,304.406,80,256,80c-96.797,0-176,79.203-176,176s78.094,176,176,176\r\n\t\tc81.045,0,148.287-54.134,169.401-128H378.85C360.105,353.561,311.712,388,256,388z"})],-1)],F=t({name:"MdRefresh",render:function(e,t){return s(),l("svg",G,J)}}),K={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"},N=[o("g",null,[o("path",{d:"M413.967,276.8c1.06-6.235,1.06-13.518,1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318\r\n\t\tc4.26-3.118,5.319-8.317,2.13-13.518L418.215,115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186,20.801\r\n\t\tc-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098\r\n\t\tc-5.318,0-9.577,4.164-10.637,8.318l-8.508,55.117c-12.767,5.2-24.464,12.482-36.171,20.801l-53.186-20.801\r\n\t\tc-5.319-2.071-10.638,0-12.767,4.164l-42.549,71.765c-2.119,4.153-1.061,10.399,2.129,13.518L96.97,235.2\r\n\t\tc0,7.282-1.06,13.518-1.06,20.8s1.06,13.518,1.06,20.8l-44.668,34.318c-4.26,3.118-5.318,8.317-2.13,13.518L92.721,396.4\r\n\t\tc2.13,4.164,8.508,6.235,12.767,4.164l53.187-20.801c10.637,8.318,23.394,15.601,36.16,20.801l8.508,55.117\r\n\t\tc1.069,5.2,5.318,8.318,10.637,8.318h85.098c5.319,0,9.578-4.164,10.638-8.318l8.518-55.117c12.757-5.2,24.464-12.482,36.16-20.801\r\n\t\tl53.187,20.801c5.318,2.071,10.637,0,12.767-4.164l42.549-71.765c2.129-4.153,1.06-10.399-2.13-13.518L413.967,276.8z\r\n\t\t M255.468,328.8c-41.489,0-74.46-32.235-74.46-72.8s32.971-72.8,74.46-72.8s74.461,32.235,74.461,72.8S296.957,328.8,255.468,328.8\r\n\t\tz"})],-1)],P=t({name:"MdSettings",render:function(e,t){return s(),l("svg",K,N)}}),Q=""+new URL("../app/muyu/hammer.png",import.meta.url).href,X=e=>(C("data-v-b1e3fb3f"),e=e(),z(),e),W={class:"muyu-icon-content relative"},Y={class:"ac"},Z={key:0},ee=X((()=>o("p",{class:"f12 d-sub"},"自动敲击到达时间停止",-1))),te={class:"f14 d-sub muyu-number inline-block min-w-[40px] b pl-2 pr-2",style:{color:"#a2916c"}},se={key:0},le={class:"d-icon f16",style:{"vertical-align":"-4px"}},oe={class:"muyu-setting f14",style:{padding:"0 10px"}},ae=X((()=>o("h2",{class:"mb-2"},"悬浮文字",-1))),ie={class:"text-tag"},ne=["onClick"],re=X((()=>o("h2",null,"音色",-1))),ue={class:"set-item-box"},me={class:"muyu-audio"},pe=["onClick"],ce={class:"d-icon f13",style:{"vertical-align":"-2px",opacity:"0.6"}},de={class:"d-flex-between"},ve=X((()=>o("div",null,[o("h2",null,"开启自动敲击"),o("span",{class:"f12 d-sub"},"开启后，可以点击木鱼暂停")],-1))),xe={key:0},fe=X((()=>o("h2",{class:"mb-1"},"停止模式",-1))),je={class:"set-item-box"},ye={class:"set-item-box"},ge={class:"pl-1 pr-1"},be={name:"muyu-icon"},we=a(Object.assign(be,{props:{size:String},setup(e){const t=i(!1),a=i(0),C=i(null),z=n({audio:0,text:"",auto:!1,interval:.5,mode:"no",count:60,timer:"120"}),O=i(null);let T=null;function G(){if(z.auto)return void(T?Ve():_e());a.value++,C.value.classList.add("active"),setTimeout((()=>{C.value.classList.remove("active")}),70);const e=O.value;S(e,z.audio,z.text)}function J(){C.value.classList.add("active"),setTimeout((()=>{C.value.classList.remove("active")}),60);const e=O.value;S(e,z.audio,z.text),a.value++}$.get("app-muyu").then((e=>{if(e)for(let t in z)z[t]=e[t]||z[t]})),$.get("app-muyu-number").then((e=>{a.value=e||0}));const K=D((e=>{$.set("app-muyu-number",e),A.emit("app-muyu",e)}),500);function N(e){"Space"===e.code&&0==t.value&&J()}r((()=>z),(e=>{$.set("app-muyu",u(e))}),{deep:!0}),m((()=>{z.interval,T&&clearInterval(T),z.auto&&_e()})),r((()=>a),(e=>{K(e.value)}),{deep:!0});let X=null;const be=i(z.timer);function we(e){"count"==e.id&&(a.value=0),be.value=z.timer}function he(e){if(e<0)return"00:00";let t=Math.floor(e/60);t<10&&(t=`0${t}`);let s=e%60;return s<10&&(s=`0${s}`),`${t}:${s}`}function ke(){a.value=0,be.value=z.timer}function _e(){Ve(),"timer"===z.mode&&(X=setInterval((()=>{be.value-=1,be.value<=0&&(E({type:"success",message:"计时敲击完成",duration:2e3,showClose:!0}),Ve())}),1e3)),z.auto&&"count"===z.mode&&a.value>=z.count?E({type:"success",message:"自动敲击完成，点击重置重新开始",duration:2e3,showClose:!0}):T=setInterval((()=>{"count"===z.mode&&a.value>=z.count&&(E({type:"success",message:"计数模式敲击完成",duration:2e3,showClose:!0}),clearInterval(T),T=null),J()}),1e3*z.interval)}function Ve(){X&&(clearInterval(X),X=null),T&&(clearInterval(T),T=null)}return p((()=>{I(document,"keydown",N)})),c((()=>{L(document,"keydown",N),Ve()})),(i,n)=>(s(),l("div",{class:_(["muyu-wrap h-full relative bg-cover bg-center bg-no-repeat f20 text-gray-600",`icon-size-${e.size}`]),style:{padding:"12px"}},[o("i",{class:"d-icon f22 d-pointer left-6 top-6 absolute z-10",onClick:n[0]||(n[0]=e=>t.value=!0)},[d(v(P))]),o("div",{class:"h-4/5 flex justify-center items-end relative ac",ref_key:"muyuRef",ref:O,style:{color:"#c29456"}},[o("div",W,[o("img",{onMousedown:x(G,["stop"]),class:"muyu-body h-full",src:U,alt:""},null,32),o("img",{ref_key:"muyuHammer",ref:C,class:"muyu-hammer absolute",src:Q,alt:""},null,512)])],512),o("div",Y,[v(z).auto&&"timer"===v(z).mode?(s(),l("span",Z,[f(j(he(be.value))+" ",1),ee])):y("",!0),o("p",null,[o("span",te,[f(j(a.value)+" ",1),v(z).auto&&"count"===v(z).mode?(s(),l("em",se,"/"+j(v(z).count),1)):y("",!0)]),o("span",{onClick:ke,class:"f12 muyu-number inline-block w-[26px] ml-1 d-pointer"},[o("i",le,[d(v(F))])])])]),d(v(B),{style:{"--el-drawer-bg-color":"var(--bg-body)","--el-drawer-padding-primary":"10px"},direction:"ltr",title:"设置","trap-focus":!1,size:"260px","block-scroll":!0,to:".muyu-wrap",modelValue:t.value,"onUpdate:modelValue":n[7]||(n[7]=e=>t.value=e)},{default:g((()=>[o("ul",oe,[o("li",null,[ae,b(o("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>v(z).text=e),class:"muyu-input",type:"text",placeholder:"输入悬浮文字，如: 功得+1"},null,512),[[w,v(z).text]]),o("ul",ie,[(s(),l(h,null,k(["功德+1","财富+999","肉肉-1"],(e=>o("span",{onClick:t=>v(z).text=e,key:e},j(e),9,ne))),64))])]),o("li",null,[re,o("div",ue,[o("div",me,[(s(),l(h,null,k(10,((e,t)=>o("p",{class:"muyu-audio-item",key:e},[o("span",{onClick:e=>function(e){z.audio=e,S(null,z.audio,z.text)}(t),class:_({active:v(z).audio==t})},[o("i",ce,[d(v(q))]),f(j(e),1)],10,pe)]))),64))])])]),o("li",de,[ve,d(M,{modelValue:v(z).auto,"onUpdate:modelValue":n[2]||(n[2]=e=>v(z).auto=e)},null,8,["modelValue"])]),v(z).auto?(s(),l("span",xe,[o("li",null,[fe,o("div",je,[d(R,{style:{"--height":"28px","--bg-radius":"4px","--padding":"0 18px","--font-size":"12px"},modelValue:v(z).mode,"onUpdate:modelValue":n[3]||(n[3]=e=>v(z).mode=e),onTabClick:we,data:[{name:"永不",id:"no"},{name:"计数",id:"count"},{name:"倒计时",id:"timer"}]},null,8,["modelValue"]),"count"==v(z).mode?b((s(),l("input",{key:0,"onUpdate:modelValue":n[4]||(n[4]=e=>v(z).count=e),class:"mt-2 ac w-full muyu-input",placeholder:"计数"},null,512)),[[w,v(z).count]]):y("",!0),"timer"==v(z).mode?(s(),V(R,{key:1,class:"mt-1 f12",style:{"--height":"28px","--padding":"0 8px","--bg-radius":"4px","--font-size":"12px"},modelValue:v(z).timer,"onUpdate:modelValue":n[5]||(n[5]=e=>v(z).timer=e),onTabClick:we,data:[{name:"2分",id:"120"},{name:"5分",id:"300"},{name:"10分",id:"600"},{name:"15分",id:"900"},{name:"30分",id:"1800"}]},null,8,["modelValue"])):y("",!0)])]),o("li",null,[o("h2",null,"敲击间隔("+j(v(z).interval)+"s)",1),o("div",ye,[o("div",ge,[d(v(H),{size:"small","show-tooltip":!1,min:.5,max:5,step:.1,modelValue:v(z).interval,"onUpdate:modelValue":n[6]||(n[6]=e=>v(z).interval=e)},null,8,["modelValue"])])])])])):y("",!0)])])),_:1},8,["modelValue"])],2))}}),[["__scopeId","data-v-b1e3fb3f"]]),he={__name:"index",setup:t=>(t,l)=>(s(),V(e,{width:"860px",height:"550px",destroyOnClose:!0},{default:g((()=>[d(we)])),_:1}))};export{he as default};
