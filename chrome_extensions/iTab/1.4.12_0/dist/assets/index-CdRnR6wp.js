import{u as o,b as e,d as t}from"./index-B3sKL47p.js";import{t as s,a as n}from"./scroll-3JEGyj3w.js";import{h as a,g as u,b as d,r}from"./style-BBQwFGbP.js";import{M as l,c,w as i,aT as m,N as p,m as y,I as v,A as f,h as b}from"./index-CyyLRP8W.js";import{c as x}from"./types-Ci7ev57k.js";import{P as M}from"./vnode-CwyaGvUL.js";const k=(e,t={})=>{l(e)||s("[useLockscreen]","You need to pass a ref param to this function");const p=t.ns||o("popup"),y=c((()=>p.bm("parent","hidden")));if(!x||a(document.body,y.value))return;let v=0,f=!1,b="0";const M=()=>{setTimeout((()=>{r(null==document?void 0:document.body,y.value),f&&document&&(document.body.style.width=b)}),200)};i(e,(o=>{if(!o)return void M();f=!a(document.body,y.value),f&&(b=document.body.style.width),v=n(p.namespace.value);const e=document.documentElement.clientHeight<document.body.scrollHeight,t=u(document.body,"overflowY");v>0&&(e||"scroll"===t)&&f&&(document.body.style.width=`calc(100% - ${v}px)`),d(document.body,y.value)})),m((()=>M()))},g=o=>{if(!o)return{onClick:p,onMousedown:p,onMouseup:p};let e=!1,t=!1;return{onClick:s=>{e&&t&&o(s),e=t=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},w=e({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:t([String,Array,Object])},zIndex:{type:t([String,Number])}});const C=y({name:"ElOverlay",props:w,emits:{click:o=>o instanceof MouseEvent},setup(e,{slots:t,emit:s}){const n=o("overlay"),{onClick:a,onMousedown:u,onMouseup:d}=g(e.customMaskEvent?void 0:o=>{s("click",o)});return()=>e.mask?v("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:u,onMouseup:d},[f(t,"default")],M.STYLE|M.CLASS|M.PROPS,["onClick","onMouseup","onMousedown"]):b("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[f(t,"default")])}});export{C as E,g as a,k as u};
