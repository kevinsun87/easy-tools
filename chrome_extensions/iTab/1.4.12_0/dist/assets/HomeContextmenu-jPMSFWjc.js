const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./getAudio-D_HGGnT2.js","./localforage-BVRgvwJc.js","./save_config-BtHImbsT.js","./public-api-DxRCcbRs.js","./todo-nv2WtoEp.js","./index-CyyLRP8W.js","./index-4Dsu8OkH.css","./todo-Dkv1bMMm.css","./baseRequest-CU9cTnaC.js","./userInfo-CZAB7rZN.js","./version-DYnJBHiW.js","./website-CoEF8fmW.js","./index-DvjFJXYU.js","./index-D4GlTUBi.js","./index-B3sKL47p.js","./plugin-vue_export-helper-O3gUY6pX.js","./types-Ci7ev57k.js","./style-BBQwFGbP.js","./index-1ymgXUpW.css","./css-BIm8ja1J.css","./indexdb-D6yYQ1E4.js","./eventBus-BB4cUTPt.js","./debounce-Dd9nEzpy.js","./isSymbol-Bt1TyP4H.js","./wallpaper-Byrzi6ca.js","./create_login-CUpbwega.js","./el-dialog-BoL22f5R.js","./index-CdRnR6wp.js","./scroll-3JEGyj3w.js","./vnode-CwyaGvUL.js","./use-dialog-0gmd-idO.js","./icon-Dsqoi_oS.js","./event-BwRzfsZt.js","./index-CB1eEFAV.js","./_baseGet-DEcaJYAt.js","./focus-trap-D8QWET1-.js","./aria-BUADUvnR.js","./use-global-config-DcVlDyFX.js","./index-CXKOYI6o.js","./isUndefined-DgmxjSXK.js","./index-hc1PwDik.js","./index-DjlyN6je.js","./el-dialog-BZbd8a1U.css","./d-button-COA-aPKt.js","./d-button-Bpdio_Za.css","./el-form-item-Bc1ZcHOk.js","./constants-Dnj8X3EN.js","./castArray-LUE-lsy0.js","./use-form-item-CUGNa-4i.js","./index-BrMlOSMZ.js","./el-form-item-DeFBUyhQ.css","./el-radio-vuBnWJsl.js","./index-kxe6IHwf.js","./hasIn-y6DbaUwA.js","./el-radio-BhMM_CnF.css","./index-BPnMED6p.js","./typescript-CRqm1_SZ.js","./index-DsFsGggn.js","./css-D3Kd0WPg.js","./css-DJhm0lbD.css","./index-BvBbK8nS.js","./index-BU0epQJo.js","./config-provider-Bf5G9WCh.js","./index-BFuAB0_P.js","./el-image-viewer-BDwDTkkr.js","./throttle-1HGvzIm8.js","./position-C03YnYn2.js","./el-image-viewer-BHVceWjq.css","./css-DsIEOZKU.js","./css-Bhjm4rSq.css","./el-button-D43xa9mw.css","./el-input-_oO4j4uY.css","./el-overlay-DBZ27Rv4.css","./index-CMn5lzXr.js","./aria-C-hsWcn7.js","./validator-DvohupZ1.js","./create_login-PZD-rgSc.css"])))=>i.map(i=>d[i]);
import{m as e,n as t,_ as a,W as l,X as n}from"./todo-nv2WtoEp.js";import{m as o,p as i,q as r,t as s,D as p,_ as m,s as c,n as u,aV as d,b3 as w,G as h,H as _,F as f,y as g,u as k,L as v,B as x,bH as y,I as E,b5 as A}from"./index-CyyLRP8W.js";import j from"./d-contextmenu-Di-strjf.js";import{o as b,$ as C,b as V,w as O,a as I}from"./main-DJB5iAKQ.js";import{a as D}from"./index-DWjaLlRQ.js";import{g as T}from"./globalSearch-Bf6LHIOA.js";import"./modulepreload-polyfill-Dqv5PPZA.js";import"./localforage-BVRgvwJc.js";import"./getAudio-D_HGGnT2.js";const L={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},S=[s("path",{d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81c-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42c-.54-52.67-42.32-96.81-95.08-96.81z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],M=o({name:"HeartOutline",render:function(e,t){return i(),r("svg",L,S)}}),P={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},H=[p('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 17h2.397a5 5 0 0 0 4.096-2.133l.177-.253m3.66-5.227l.177-.254A5 5 0 0 1 17.603 7H21"></path><path d="M18 4l3 3l-3 3"></path><path d="M3 7h2.397a5 5 0 0 1 4.096 2.133l4.014 5.734A5 5 0 0 0 17.603 17H21"></path><path d="M18 20l3-3l-3-3"></path></g>',1)],R=o({name:"Switch3",render:function(e,t){return i(),r("svg",P,H)}}),F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},W=[s("g",{fill:"none"},[s("path",{d:"M10.5 2.75a.75.75 0 0 0-1.5 0V9H2.75a.75.75 0 0 0 0 1.5H9v6.25a.75.75 0 0 0 1.5 0V10.5h6.25a.75.75 0 0 0 0-1.5H10.5V2.75z",fill:"currentColor"})],-1)],G=o({name:"Add20Filled",render:function(e,t){return i(),r("svg",F,W)}}),B={style:{color:"#d1d1d1","font-size":"12px","min-width":"58px"}};const z=["title","onClick"],N={key:0,class:"home-menu-item d-flex-between"},Y={class:"d-flex"},q={key:1,class:"home-menu-item"},X={class:"item-icon d-icon"},J={name:"home-contextmenu",components:{Add20Filled:G,Search:l,Setting:n,Switch3:R,HeartOutline:M,HomeContextmenuSearch:m({},[["render",function(e,t){return i(),r("span",B,"Ctrl+F")}]])}},K=Object.assign(J,{setup(l){const n=c(null),o=e();let p=[{name:"添加图标",key:"add",icon:"Add20Filled"},{name:"换壁纸",key:"switchWallpaper",icon:"Switch3",desc:"使用快捷键Ctrl+G快速打开壁纸库"},{name:"本地搜索",key:"search",icon:"HomeContextmenuSearch"},{name:"立即备份",key:"backups",icon:"cloudy"},{name:"设置",key:"setting",icon:"setting"}];u((()=>{b(C("#app-main"),"contextmenu",S)}));let m=o.value.wallpaper.time;if(m){let e=t.get("wallpaperSwitchTime"),a=(new Date).getTime();e+=36e5*m,e<a&&(L(),t.set("wallpaperSwitchTime",a))}async function L(){try{let e=await a((()=>import("./getAudio-D_HGGnT2.js").then((e=>e.w))),__vite__mapDeps([0,1]),import.meta.url);e=e.default;let t=await e.keys();t=t.filter((e=>e.includes("bing_")||e.includes("wallpaper/list")||e.includes("wallpaper/wallhaven")));let l=t[Math.floor(Math.random()*t.length)],n=await e.get(l);n=n||[];let i=n[Math.floor(Math.random()*n.length)];o.value.wallpaper.src=i.raw,o.value.wallpaper.thumb=i.thumb,o.value.wallpaper.type=1,a((()=>import("./save_config-BtHImbsT.js")),__vite__mapDeps([2,3,4,5,6,7,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url).then((e=>{e.SAVE_CONFIG("baseConfig")}))}catch(e){a((()=>import("./wallpaper-Byrzi6ca.js")),__vite__mapDeps([24,8,4,5,6,7,9,1,10]),import.meta.url).then((e=>{e.randomWallpaperApi().then((e=>{let t=e.data||"";o.value.wallpaper.src=t||"",o.value.wallpaper.thumb=e.thumb||"",o.value.wallpaper.type=1,a((()=>import("./save_config-BtHImbsT.js")),__vite__mapDeps([2,3,4,5,6,7,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url).then((e=>{e.SAVE_CONFIG("baseConfig")}))}))}))}}function S(e){e.preventDefault(),e.stopPropagation(),n.value.open(e)}function P(e,l){if(n.value.close(),"add"==e)O();else if("switchWallpaper"==e)L();else if("download"==e){let e=o.value.wallpaper;if(!e.src)return;D(e.src,e.name)}else if("setting"==e)I.visible=!0,I.active=2;else if("backups"==e){if(!t.get("token"))return void a((()=>import("./create_login-CUpbwega.js")),__vite__mapDeps([25,5,6,26,27,14,28,17,16,29,13,15,30,31,4,7,32,33,34,23,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,3,1,8,9,10,11,12,18,19,20,21,51,52,53,54,2,22,55,56,57,58,59,0,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76]),import.meta.url).then((e=>{e.default("login")}));a((()=>import("./save_config-BtHImbsT.js")),__vite__mapDeps([2,3,4,5,6,7,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url).then((e=>{e.SAVE_CONFIG(null,100,"manua")}))}else if("search"==e)T.value=!0;else if("collectWallpaper"==e){if(!t.get("token"))return a((()=>import("./create_login-CUpbwega.js")),__vite__mapDeps([25,5,6,26,27,14,28,17,16,29,13,15,30,31,4,7,32,33,34,23,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,3,1,8,9,10,11,12,18,19,20,21,51,52,53,54,2,22,55,56,57,58,59,0,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76]),import.meta.url).then((e=>{e.default("login")})),void a((()=>import("./index-BU0epQJo.js")),__vite__mapDeps([61,5,6,49,16,14,15,17,41,13,56,31,4,7,37,38,34,23,33,36,62,63]),import.meta.url).then((e=>{e.ElMessage({type:"warning",message:"需要登录后才能收藏壁纸",duration:2e3,showClose:!0})}));a((()=>import("./wallpaper-Byrzi6ca.js")),__vite__mapDeps([24,8,4,5,6,7,9,1,10]),import.meta.url).then((async e=>{let t={thumb:o.value.wallpaper.thumb,raw:o.value.wallpaper.src,type:o.value.wallpaper.type};e.wallLikeApi(t).then((e=>{a((()=>import("./index-BU0epQJo.js")),__vite__mapDeps([61,5,6,49,16,14,15,17,41,13,56,31,4,7,37,38,34,23,33,36,62,63]),import.meta.url).then((async t=>{t.ElMessage({type:"success",message:e.msg,duration:3e3,showClose:!0});let l=await a((()=>import("./getAudio-D_HGGnT2.js").then((e=>e.w))),__vite__mapDeps([0,1]),import.meta.url);l=l.default;let n=await l.keys();n=n.filter((e=>e.includes("wallpaper/collect/list"))),n.forEach((e=>{l.remove(e)}))}))}))}))}}return d((()=>{V(C("#app-main"),"contextmenu",S)})),(e,t)=>{const a=w("download");return i(),h(j,{uid:"home_5dwx",data:k(p),ref_key:"refContextmenu",ref:n},{default:_((()=>[(i(!0),r(f,null,g(k(p),(e=>(i(),r("li",{title:e.desc,key:e.key,onClick:t=>P(e.key,e.name),class:"d-contextmenu-item hover"},["switchWallpaper"===e.key?(i(),r("span",N,[v(x(e.name)+" ",1),s("span",Y,[s("i",{title:"下载壁纸",onClick:t[0]||(t[0]=y((e=>P("download")),["stop"])),class:"wall-icon d-flex-center d-icon"},[E(a)]),s("i",{title:"收藏壁纸",onClick:t[1]||(t[1]=y((e=>P("collectWallpaper")),["stop"])),class:"wall-icon d-flex-center d-icon"},[E(k(M))])])])):(i(),r("span",q,[v(x(e.name)+" ",1),s("i",X,[(i(),h(A(e.icon)))])]))],8,z)))),128))])),_:1},8,["data"])}}});export{K as default};
