import{_ as t}from"./d-dialog-Dp99XzOL.js";import{_ as e,bp as s,a,p as l,q as o,t as i,z as r,B as n,I as p,u as d,G as m,H as u,F as c,y as v,J as f,a_ as y,aX as j}from"./index-CyyLRP8W.js";import{d as h}from"./localforage-BVRgvwJc.js";import{j as b}from"./main-DJB5iAKQ.js";/* empty css            */import{E as x}from"./el-card-CznJszGH.js";import{todayShiciApi as _}from"./todayShici-CCwlVALr.js";import{n as g,K as w}from"./todo-nv2WtoEp.js";import k from"./indexdb-D6yYQ1E4.js";import"./el-dialog-BoL22f5R.js";import"./index-CdRnR6wp.js";import"./index-B3sKL47p.js";import"./scroll-3JEGyj3w.js";import"./style-BBQwFGbP.js";import"./types-Ci7ev57k.js";import"./vnode-CwyaGvUL.js";import"./index-D4GlTUBi.js";import"./plugin-vue_export-helper-O3gUY6pX.js";import"./use-dialog-0gmd-idO.js";import"./icon-Dsqoi_oS.js";import"./event-BwRzfsZt.js";import"./index-CB1eEFAV.js";import"./_baseGet-DEcaJYAt.js";import"./isSymbol-Bt1TyP4H.js";import"./focus-trap-D8QWET1-.js";import"./aria-BUADUvnR.js";import"./use-global-config-DcVlDyFX.js";import"./index-CXKOYI6o.js";import"./isUndefined-DgmxjSXK.js";import"./index-hc1PwDik.js";import"./index-DjlyN6je.js";/* empty css                   */import"./getAudio-D_HGGnT2.js";/* empty css                                                 */import"./modulepreload-polyfill-Dqv5PPZA.js";import"./baseRequest-CU9cTnaC.js";import"./userInfo-CZAB7rZN.js";import"./version-DYnJBHiW.js";const Y=t=>(y("data-v-32dc761d"),t=t(),j(),t),q={class:"app-shici-body al relative",style:{"z-index":"2"}},S={class:"ac quotes relative",style:{"z-index":"2"}},C={class:"f14 mb20"},D={style:{"max-width":"700px",margin:"0 auto","line-height":"1.6"}},I=Y((()=>i("h2",{class:"f20 mb20"},"全文",-1))),z={class:"b"},M={class:"f12 mb20"},J={class:"mb50 al"},R=Y((()=>i("h2",{class:"f20 mb20"},"译文",-1))),A=Y((()=>i("h2",{class:"f20 mb20"},"注释",-1))),B=Y((()=>i("h2",{class:"f20 mb20"},"序",-1))),F=e({__name:"Content",setup(t){s((t=>({d72366bc:j.value})));const e=a(null),y=a({}),j=a(""),Y=a(!1);function F(t){j.value=t}async function G(t){let e=null;t||(e=await k.get("app-todayShici"),y.value=e),!t&&e&&e.date==h().format("YYYYMMDD")||_().then((t=>{let e=t.data||{};e.date=h().format("YYYYMMDD"),y.value=e,k.set("app-todayShici",e);let s={quotes:e.quotes,dynasty:e.dynasty,title:e.title,author:e.author,date:e.date};g.set("app-todayShici",s),Y.value=!0,setTimeout((()=>{Y.value=!1}),1200)}))}function H(){e.value.scrollTo({top:500,behavior:"smooth"})}return G(),(t,s)=>(l(),o("div",{ref_key:"appShiciRef",ref:e,class:"app-shici-wrap w-full relative h-full d-scrollbar-hide select-text"},[i("div",q,[i("div",S,[i("h2",{class:r(["quotes-text",{animation:Y.value}])},n(y.value.quotes),3),i("p",C," 出自 "+n(y.value.dynasty)+"⋅ "+n(y.value.author)+" 的《"+n(y.value.title)+"》 ",1),i("button",{onClick:s[0]||(s[0]=t=>G(!0)),class:"f14 mb20 app-button"}," 换一句 ")]),p(b,{onColor:F,class:"app-bg",style:{width:"100%",height:"auto"}}),i("div",{onClick:H,class:"arrow-down d-icon f22",style:{color:"#fff"}},[p(d(w))])]),i("div",D,[y.value.content?(l(),m(d(x),{key:0,shadow:"never",class:"mb50",style:{"margin-top":"120px"}},{default:u((()=>[I,i("h2",z,n(y.value.title),1),i("p",M,n(y.value.dynasty)+"⋅ "+n(y.value.author),1),i("div",null,[(l(!0),o(c,null,v(y.value.content.split("\n"),(t=>(l(),o("p",{style:{},class:"f14 mb10",key:t},n(t),1)))),128))])])),_:1})):f("",!0),y.value.translate?(l(),m(d(x),{key:1,shadow:"never",class:"mb50"},{default:u((()=>[i("div",J,[R,(l(!0),o(c,null,v(y.value.translate.split("\n"),(t=>(l(),o("p",{style:{"text-indent":"2em"},class:"mb20",key:t},n(t),1)))),128))])])),_:1})):f("",!0),y.value.annotation?(l(),m(d(x),{key:2,shadow:"never",class:"mb50"},{default:u((()=>[A,(l(!0),o(c,null,v(y.value.annotation.split("\n"),(t=>(l(),o("p",{class:"mb20",key:t},n(t),1)))),128))])),_:1})):f("",!0),y.value.preface?(l(),m(d(x),{key:3,shadow:"never",class:"mb50"},{default:u((()=>[B,(l(!0),o(c,null,v(y.value.preface.split("\n"),(t=>(l(),o("p",{style:{"line-height":"22px","text-indent":"2em"},key:t},n(t),1)))),128))])),_:1})):f("",!0)])],512))}},[["__scopeId","data-v-32dc761d"]]),G={__name:"index",setup:e=>(e,s)=>(l(),m(t,{width:"860px",height:"550px",destroyOnClose:!0},{default:u((()=>[p(F)])),_:1}))};export{G as default};
